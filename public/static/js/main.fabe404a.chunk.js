(this["webpackJsonpau-room-reservation"]=this["webpackJsonpau-room-reservation"]||[]).push([[0],{125:function(e,t,a){},230:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(37),o=a.n(r),s=(a(125),a(30),a(4)),c=a(10),i=a.n(c),l=a(14),d=a.p+"static/media/logo.5e6c8018.png",u=(a(127),a(15)),b=a(19),j=a(1);var m=function(e){var t=e.closeModal,a=Object(b.g)();return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"logout-modal",children:Object(j.jsxs)("div",{className:"logout-modalContainer",children:[Object(j.jsx)("div",{className:"title",children:"SIGN OUT"}),Object(j.jsx)("div",{className:"body",children:"Are you sure you want to sign out?"}),Object(j.jsxs)("div",{className:"footer",children:[Object(j.jsx)("button",{className:"btn btn-danger btn-sm",type:"button",onClick:function(){return sessionStorage.clear(),void a.push("/login")},children:"OK"}),Object(j.jsx)("button",{className:"btn btn-primary btn-sm",type:"button",onClick:function(){return t(!1)},id:"cancelLogOut",children:"Cancel"})]})]})})})},h=a(12),O=a.n(h),g=a(45),f=a.p+"static/media/cardImg.378ae422.png";var v=function(){var e=Object(b.g)(),t=Object(n.useState)({}),a=Object(s.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(""),d=Object(s.a)(c,2),u=d[0],m=d[1],h=Object(n.useState)(""),g=Object(s.a)(h,2),v=g[0],x=g[1],p=Object(n.useState)({}),S=Object(s.a)(p,2),w=S[0],N=S[1],C=Object(n.useState)(""),y=Object(s.a)(C,2),I=y[0],k=y[1],F=Object(n.useState)(""),T=Object(s.a)(F,2),D=T[0],B=T[1],E=Object(n.useState)([]),R=Object(s.a)(E,2),z=R[0],A=R[1],M=Object(n.useState)(""),P=Object(s.a)(M,2),_=P[0],L=P[1],V=Object(n.useState)(""),q=Object(s.a)(V,2),G=q[0],W=q[1],U=Object(n.useState)(""),J=Object(s.a)(U,2),Y=(J[0],J[1],sessionStorage.getItem("token"));Y||(e.push("/"),window.location.reload("/"));var H=Object(b.h)(),K=H.state.booking_id,X=H.state.room_id;console.log("39",K),console.log("40",X);var Q=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/booking-infos/".concat(K),headers:{Authorization:"Bearer "+Y},method:"GET",data:{}}).then((function(e){console.log(e.data.data),N(e.data.data),A(e.data.data.student),k(e.data.data.status.split(" ")[0]),"Failed"==e.data.data.status.split(" ")[0]?B(e.data.data.status.slice(9,-1)):B("-")}));case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/room-infos/".concat(X),headers:{Authorization:"Bearer "+Y},method:"GET",data:{}}).then((function(e){if(console.log(e.data.data),o(e.data.data),m(e.data.data.startTime.slice(0,5)),x(e.data.data.endTime.slice(0,5)),e.data.data.minDuaration>=60){var t=60*((n=e.data.data.minDuaration/60)-(r=Math.floor(n))),a=Math.round(t);L(0==a?r+" hrs.":r+" hrs. "+a+" min.")}else L(e.data.data.minDuaration+" min.");if(e.data.data.maxDuration>=60){var n,r;t=60*((n=e.data.data.maxDuration/60)-(r=Math.floor(n))),a=Math.round(t);W(0==a?r+" hrs.":r+" hrs. "+a+" min.")}else W(e.data.data.maxDuration+" min.")}));case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){Q()}),[]),Object(n.useEffect)((function(){Z()}),[]),Object(j.jsx)("div",{children:Object(j.jsxs)("body",{children:[Object(j.jsxs)("div",{class:"card",children:[Object(j.jsx)("img",{class:"card-img-top",src:f}),Object(j.jsxs)("div",{class:"card-img-overlay",children:[Object(j.jsx)("h4",{class:"headContent card-title",children:"MORE INFORMATION"}),Object(j.jsxs)("p",{class:"content card-text",children:["Invitation Code: ",w.invitationCode]})]})]}),Object(j.jsx)("div",{class:"myCard1 card",children:Object(j.jsxs)("div",{class:"card-body",children:[Object(j.jsx)("p",{class:"headForCard card-text boldB",children:r.roomName}),Object(j.jsx)("hr",{style:{height:"0.03rem",color:"#D7D5DB"}}),Object(j.jsx)("img",{src:r.roomPictureUrl}),Object(j.jsx)("p",{class:"customPForBuilding card-text regularB",children:"Building"}),Object(j.jsx)("p",{class:"customPForBuilding1 card-text regularB",children:"Floor"}),Object(j.jsx)("div",{className:"customForDisable0",children:Object(j.jsx)("textarea",{disabled:!0,value:r.building,onChange:o})}),Object(j.jsx)("div",{className:"customPosition customForDisable0",children:Object(j.jsx)("textarea",{disabled:!0,value:r.floor,onChange:o})}),Object(j.jsxs)("div",{className:"rowW",children:[Object(j.jsx)("p",{class:"customPForBuilding card-text regularB",children:"Room Capacity"}),Object(j.jsx)("p",{class:"customPForBuilding1 card-text regularB",children:"Require Member"}),Object(j.jsx)("div",{className:"customForDisable0",children:Object(j.jsx)("textarea",{disabled:!0,value:r.capacity,onChange:o})}),Object(j.jsx)("div",{className:"customPosition customForDisable0",children:Object(j.jsx)("textarea",{disabled:!0,value:r.minAttendees,onChange:o})})]}),Object(j.jsxs)("div",{className:"rowW",children:[Object(j.jsx)("p",{class:"customPForBuilding card-text regularB",children:"Min Duration"}),Object(j.jsx)("p",{class:"customPForBuilding1 card-text regularB",children:"Max Duration"}),Object(j.jsx)("div",{className:"customForDisable0",children:Object(j.jsx)("textarea",{disabled:!0,value:_,onChange:L})}),Object(j.jsx)("div",{className:"customPosition customForDisable0",children:Object(j.jsx)("textarea",{disabled:!0,value:G,onChange:W})})]}),Object(j.jsxs)("div",{className:"rowW",children:[Object(j.jsx)("p",{class:"customPForBuilding card-text regularB",children:"Start Time"}),Object(j.jsx)("p",{class:"customPForBuilding1 card-text regularB",children:"End Time"}),Object(j.jsx)("div",{className:"customForDisable0",children:Object(j.jsx)("textarea",{disabled:!0,value:u,onChange:m})}),Object(j.jsx)("div",{className:"customPosition customForDisable0",children:Object(j.jsx)("textarea",{disabled:!0,value:v,onChange:x})})]})]})}),Object(j.jsx)("div",{class:"myCard card",children:Object(j.jsxs)("div",{class:"card-body",children:[Object(j.jsx)("p",{class:"headForCard card-text boldB",children:w.meetingTitle}),Object(j.jsx)("hr",{style:{height:"0.03rem",color:"#D7D5DB"}}),Object(j.jsx)("p",{class:"customPForBuilding card-text regularB",children:"Date"}),Object(j.jsx)("p",{class:"customPForBuilding2 card-text regularB",children:"Time"}),Object(j.jsx)("div",{className:"customForDisable1",children:Object(j.jsx)("textarea",{disabled:!0,value:new Date(w.startDateTime).toLocaleDateString("en-GB"),onChange:o})}),Object(j.jsx)("div",{className:"customPosition1 customForDisable1",children:Object(j.jsx)("textarea",{disabled:!0,value:new Date(w.startDateTime).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1})+" - "+new Date(w.endDateTime).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1}),onChange:o})}),Object(j.jsxs)("div",{className:"rowW",children:[Object(j.jsx)("p",{class:"customPForBuilding card-text regularB",children:"Reserved At"}),Object(j.jsx)("p",{class:"customPForBuilding2 card-text regularB",children:"Reserved By"}),Object(j.jsx)("div",{className:"customForDisable1",children:Object(j.jsx)("textarea",{disabled:!0,value:new Date(w.reservedAt).toLocaleString("en-GB"),onChange:N})}),Object(j.jsx)("div",{className:"customPosition1 customForDisable1",children:Object(j.jsx)("textarea",{disabled:!0,value:w.reservedBy,onChange:N})})]}),Object(j.jsxs)("div",{className:"rowW",children:[Object(j.jsx)("p",{class:"customPForBuilding card-text regularB",children:"List of Require Members"}),Object(j.jsx)("div",{className:"customForDisable2",children:z.map((function(e){return Object(j.jsx)("p",{children:e.firstNameEn+" "+e.lastNameEn})}))})]}),Object(j.jsxs)("div",{className:"rowW",children:[Object(j.jsx)("p",{class:"customPForBuilding card-text regularB",children:"Purpose"}),Object(j.jsx)("p",{class:"customPForBuilding2 card-text regularB",children:"Status"}),Object(j.jsx)("div",{className:"customForDisable1",children:Object(j.jsx)("textarea",{disabled:!0,value:w.purpose,onChange:o})}),Object(j.jsx)("div",{className:"customPosition1 customForDisable1",children:Object(j.jsx)("textarea",{disabled:!0,value:I,onChange:k})})]}),Object(j.jsxs)("div",{className:"rowW",children:[Object(j.jsx)("p",{class:"customPForBuilding card-text regularB",children:"Reason"}),Object(j.jsx)("div",{className:"customForDisable3",children:Object(j.jsx)("textarea",{disabled:!0,value:D,onChange:B})})]})]})})]})})},x=function(e){var t=e.closeModal;console.log("test",t);var a=Object(n.useState)([]),r=Object(s.a)(a,2),o=r[0],c=r[1],d=Object(n.useState)([]),m=Object(s.a)(d,2),h=m[0],f=m[1],v=sessionStorage.getItem("token"),x=sessionStorage.getItem("memberId"),p=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/reserved-list",headers:{Authorization:"Bearer "+v},method:"POST",data:{BookingId:null,RoomName:null,Status:null,Date:null,Page:1,MemberId:x}}).then((function(e){var t=e.data.data;c(t)}));case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){p()}),[]),Object(n.useEffect)((function(){var e=JSON.parse(JSON.stringify(o)),t=[];e.map((function(e,a){e.date=Object(j.jsx)("div",{children:new Date(e.startTime).toLocaleDateString("en-GB")}),e.startTime=Object(j.jsx)("div",{children:new Date(e.startTime).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1})}),e.endTime=Object(j.jsx)("div",{children:new Date(e.endTime).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1})}),e.status=Object(j.jsx)("div",{children:e.status.split(" ")[0]});var n=e.bookingId,r=e.roomId;console.log("bookingID",n);e.info=Object(j.jsx)(u.b,{to:{pathname:"/moreInfoForReservationList/".concat(n),state:{booking_id:n,room_id:r}},children:Object(j.jsx)("div",{class:"iconReservationList",style:{display:"flex",justifyContent:"space-between"},children:Object(j.jsx)("div",{className:"bx bx-info-circle",style:{cursor:"pointer",color:"black",fontSize:"1.1rem"},reservationId:e.bookingId,onClick:function(){return localStorage.setItem("BookingID",n),void localStorage.setItem("RoomID",r)}})})}),t.push(e)})),f(t)}),[o]);var S={columns:[{label:"INVITATION CODE",field:"invitationCode",sort:"asc",width:30},{label:"DATE",field:"date",sort:"asc",width:60},{label:"START TIME",field:"startTime",sort:"acs",width:45},{label:"END TIME",field:"endTime",sort:"asc",width:45},{label:"ROOM",field:"room",sort:"asc",width:60},{label:"STATUS",field:"status",sort:"asc",width:60},{label:"RESERVED BY",field:"reservedBy",sort:"asc",width:160},{label:"INFO",field:"info",sort:"asc",width:30}],rows:h};return sessionStorage.getItem("token")?Object(j.jsx)("div",{className:"myTableReservationList",children:Object(j.jsx)(g.c,{striped:!0,bordered:!0,small:!0,searching:!1,sortable:!1,entries:5,displayEntries:!1,data:S})}):Object(j.jsx)(b.a,{to:"/"})};var p=function(e){var t=e.closeModal,a=Object(b.g)();return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"reservationList-modal",children:Object(j.jsxs)("div",{className:"reservationList-modalContainer",children:[Object(j.jsx)("button",{id:"close",onClick:function(){t(!1),a.push("/reservationManagement")},children:"close"}),Object(j.jsx)("div",{className:"title",children:"LATEST RESERVATION"}),Object(j.jsx)("div",{className:"body",children:Object(j.jsx)(x,{})})]})})})},S=function(){var e=Object(n.useState)("false"),t=Object(s.a)(e,2),a=t[0],r=(t[1],Object(n.useState)(!1)),o=Object(s.a)(r,2),c=o[0],b=o[1],h=Object(n.useState)(!1),g=Object(s.a)(h,2),f=g[0],v=g[1],x=Object(n.useState)(""),S=Object(s.a)(x,2),w=S[0],N=S[1],C=sessionStorage.getItem("token"),y=Object(n.useState)(""),I=Object(s.a)(y,2),k=I[0],F=I[1],T=Object(n.useState)(""),D=Object(s.a)(T,2),B=D[0],E=D[1],R=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/member-info",headers:{Authorization:"Bearer "+C},method:"POST",data:{Username:sessionStorage.getItem("username"),Password:sessionStorage.getItem("password")}}).then((function(e){console.log(e.data.data[0]),F(e.data.data[0].memberNameEn),E(e.data.data[0].memberPictureUrl),window.sessionStorage.setItem("name",e.data.data[0].memberNameEn),window.sessionStorage.setItem("memberId",e.data.data[0].memberId),window.sessionStorage.setItem("memberRoleId",e.data.data[0].memberRoleId),window.sessionStorage.setItem("memberRoleName",e.data.data[0].memberRoleName),N(e.data.data[0].memberRoleId.toString())}));case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){R()}),[]);var z=null,A=!1;return"6"===w.toString()&&(A=!0),A&&(z=Object(j.jsx)("li",{children:Object(j.jsxs)(u.b,{to:"/adminManagement",children:[Object(j.jsx)("i",{class:"bx bx-user"}),Object(j.jsx)("span",{class:"links_name",children:"Admin Management"})]})})),Object(j.jsx)("body",{children:Object(j.jsxs)("div",{className:a?"sidebar":"sidebar active",children:[Object(j.jsxs)("div",{class:"logo_content",children:[Object(j.jsx)("div",{class:"logo",children:Object(j.jsx)("img",{src:d,width:"150px",height:"90px"})}),Object(j.jsx)("div",{className:a?"menu":"menu active"})]}),Object(j.jsx)("div",{class:"profile_content",children:Object(j.jsx)("div",{class:"profile",children:Object(j.jsxs)("div",{class:"profile_details row",children:[Object(j.jsx)("div",{class:"col-sm-3",children:Object(j.jsx)("img",{src:B,alt:"new",width:"50",height:"50"})}),Object(j.jsxs)("div",{class:"firstName_lastName col-sm-7",children:[Object(j.jsx)("div",{class:"firstName font-face-bariol-bold",children:k.split(" ")[0]}),Object(j.jsx)("div",{class:"lastName font-face-bariol-regular",children:k.split(" ")[1]})]})]})})}),Object(j.jsxs)("ul",{class:"nav_list font-face-bariol-regular",children:[Object(j.jsx)("li",{children:Object(j.jsxs)("a",{href:"/roomManagement",children:[Object(j.jsx)("i",{class:"bx bx-building"}),Object(j.jsx)("span",{class:"links_name",children:"Room Management"})]})}),Object(j.jsxs)("li",{children:[Object(j.jsxs)("a",{onClick:function(){v(!0)},children:[Object(j.jsx)("i",{class:"bx bx-calendar"}),Object(j.jsx)("span",{class:"links_name",children:"Reservation Management"})]}),f&&Object(j.jsx)(p,{closeModal:v})]}),Object(j.jsx)("li",{children:Object(j.jsxs)(u.b,{to:"/history",children:[Object(j.jsx)("i",{class:"bx bx-history"}),Object(j.jsx)("span",{class:"links_name",children:"History"})]})}),z,Object(j.jsx)("li",{children:Object(j.jsxs)("a",{href:"/changePassword",children:[Object(j.jsx)("i",{class:"bx bx-cog"}),Object(j.jsx)("span",{class:"links_name",children:"Change Password"})]})}),Object(j.jsxs)("li",{children:[Object(j.jsxs)("a",{onClick:function(){b(!0)},children:[Object(j.jsx)("i",{class:"bx bx-log-out",id:"log_out"}),Object(j.jsx)("span",{class:"links_name",children:"Sign Out"})]}),c&&Object(j.jsx)(m,{closeModal:b})]})]})]})})},w=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)([]),d=Object(s.a)(c,2),m=d[0],h=d[1],f=sessionStorage.getItem("token"),v=sessionStorage.getItem("memberId"),x=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,n,r,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.sessionStorage.getItem("status"),a=window.sessionStorage.getItem("date"),"Not Specified"==t&&(t=null),"null"===a&&(a=null),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r="",s=1,null!==a&&(n.map((function(e){e===a.toString().slice(4,7)&&(r=s<10?"0"+s.toString():s.toString()),s+=1})),c=r+"/"+a.toString().slice(8,10)+"/"+a.toString().slice(11,15),a=c.toString()),null!==t&&(t=t.toString()),console.log(a),e.next=13,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/histories",headers:{Authorization:"Bearer "+f},method:"POST",data:{BookingId:null,RoomName:null,Status:t,Date:a,Page:1,MemberId:v}}).then((function(e){var t=e.data.data;console.log(t),o(t)}));case 13:e.sent,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){x()}),[]),Object(n.useEffect)((function(){var e=JSON.parse(JSON.stringify(r));console.log(r);var t=[];e.map((function(e,a){e.date=Object(j.jsx)("div",{children:new Date(e.startTime).toLocaleDateString("en-GB")}),e.startTime=Object(j.jsx)("div",{children:new Date(e.startTime).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1})}),e.endTime=Object(j.jsx)("div",{children:new Date(e.endTime).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1})}),e.location=Object(j.jsx)("div",{children:e.status.split(" - ")[1]}),e.status=Object(j.jsx)("div",{children:e.status.split(" ")[0]});var n=e.bookingId,r=e.roomId;e.info=Object(j.jsx)(u.b,{to:{pathname:"/moreinfo/".concat(n),state:{booking_id:n,room_id:r}},children:Object(j.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:Object(j.jsx)("div",{className:"bx bx-info-circle",style:{cursor:"pointer",color:"black",fontSize:"1.1rem"}})})}),t.push(e)})),h(t)}),[r]);var p={columns:[{label:"ID",field:"bookingId",sort:"asc",width:30},{label:"DATE",field:"date",sort:"asc",width:80},{label:"START TIME",field:"startTime",sort:"acs",width:70},{label:"END TIME",field:"endTime",sort:"asc",width:70},{label:"ROOM",field:"room",sort:"asc",width:80},{label:"STATUS",field:"status",sort:"asc",width:50},{label:"REASON",field:"location",sort:"asc",width:50},{label:"RESERVED BY",field:"reservedBy",sort:"asc",width:160},{label:"INFO",field:"info",sort:"asc",width:30}],rows:m};return sessionStorage.getItem("token")?Object(j.jsx)("div",{className:"myTable",children:Object(j.jsx)(g.c,{striped:!0,bordered:!0,small:!0,searching:!1,sortable:!1,displayEntries:!1,data:p})}):Object(j.jsx)(b.a,{to:"/"})},N=a(5),C=a(20),y={control:function(e,t){return Object(N.a)(Object(N.a)({},e),{},{fontFamily:"Bariol Regular",boxShadow:0,left:"32.5rem",top:"-2.4rem",width:"10rem",cursor:"text",borderRadius:5,fontSize:"0.8rem"})},option:function(e,t){var a=t.isFocused;return Object(N.a)(Object(N.a)({},e),{},{cursor:"pointer",color:a?"rgba(255, 80, 86)":"black",lineHeight:2})},input:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"black",fontFamily:"Bariol Regular"})},menu:function(e){return Object(N.a)(Object(N.a)({},e),{},{left:"33.5rem",top:"-0.4rem",boxShadow:"none",borderRadius:5,fontSize:"0.8rem",width:"10rem"})},singleValue:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"rgba(0, 0, 0)"})}};var I=function(e){var t="Not Specified";return null!==e.oldValue&&null!==e&&(t="".concat(e.oldValue)),Object(j.jsx)(C.a,{className:"col-2",options:[{value:"Not Specified",label:"Not Specified"},{value:"Failed",label:"Failed"},{value:"Done",label:"Completed"}],placeholder:t,styles:y,onChange:function(e){console.log(e),window.sessionStorage.setItem("status",e.value)}})},k=a(66),F=a.n(k),T=(a(113),function(){var e=Object(n.useState)(new Date),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(j.jsx)(F.a,{selected:a,onChange:function(e){console.log(e),r(e),window.sessionStorage.setItem("date",e)},dateFormat:"dd/MM/yyyy",placeholderText:"dd/mm/yyyy"})});var D=function(e){var t=window.sessionStorage.getItem("status"),a=(window.sessionStorage.getItem("date"),sessionStorage.getItem("token")),r=Object(n.useState)(!1),o=Object(s.a)(r,2),c=o[0];o[1],Object(n.useEffect)((function(){e.onCollapse(!c)}),[!c]);var i=Object(b.g)();return a||(i.push("/"),window.location.reload("/")),"dd/mm/yyyy",Object(j.jsx)("div",{children:Object(j.jsxs)("body",{children:[Object(j.jsxs)("div",{class:"card",children:[Object(j.jsx)("img",{class:"card-img-top",src:f}),Object(j.jsxs)("div",{class:"card-img-overlay",children:[Object(j.jsx)("div",{className:e.isActive?"headContent":"headContent active",children:Object(j.jsx)("h4",{class:"card-title ",children:"HISTORY"})}),Object(j.jsx)("p",{class:"content card-text",children:"Suvarnabhumi Campus"})]})]}),Object(j.jsx)("h1",{class:"search_container_date",children:" Date "}),Object(j.jsx)("h1",{class:"search_container_status",children:" Status "}),Object(j.jsx)("div",{class:"date-drop-down",children:Object(j.jsx)(T,{oldValue:"dd/mm/yyyy"})}),Object(j.jsx)(I,{oldValue:t}),Object(j.jsx)("button",{class:"search_button",onClick:function(){window.location.reload("/history")},children:"Search"}),Object(j.jsx)(w,{})]})})},B={control:function(e,t){return Object(N.a)(Object(N.a)({},e),{},{fontFamily:"Bariol Regular",boxShadow:0,left:"21.55rem",top:"0rem",width:"10rem",cursor:"text",borderRadius:5,fontSize:"0.8rem"})},option:function(e,t){var a=t.isFocused;return Object(N.a)(Object(N.a)({},e),{},{cursor:"pointer",backgroundColor:"white",color:a?"rgba(255, 80, 86)":"black",lineHeight:2})},input:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"black",fontFamily:"Bariol Regular"})},menu:function(e){return Object(N.a)(Object(N.a)({},e),{},{left:"22.5rem",top:"1.9rem",boxShadow:"none",borderRadius:5,fontSize:"0.8rem",width:"10rem"})},singleValue:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"rgba(0, 0, 0)"})}};var E=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],o=[{value:"Not Specified",label:"Not Specified"}],c=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=sessionStorage.getItem("token"),O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/buildings",headers:{Authorization:"Bearer "+t},method:"GET"}).then((function(e){r(e.data.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c()}),[]),a.forEach((function(e){o.push({value:e.text,label:e.text})})),Object(j.jsx)(C.a,{className:"col-2",options:o,placeholder:"Not Specified",styles:B,onChange:function(e){window.sessionStorage.setItem("building",e.value)}})},R={control:function(e,t){return Object(N.a)(Object(N.a)({},e),{},{fontFamily:"Bariol Regular",boxShadow:0,left:"32.5rem",top:"-1.5965rem",width:"10rem",cursor:"text",borderRadius:5,fontSize:"0.8rem"})},option:function(e,t){var a=t.isFocused;return Object(N.a)(Object(N.a)({},e),{},{cursor:"pointer",backgroundColor:"white",color:a?"rgba(255, 80, 86)":"black",lineHeight:2})},input:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"black",fontFamily:"Bariol Regular"})},menu:function(e){return Object(N.a)(Object(N.a)({},e),{},{left:"33.5rem",top:"0.27rem",boxShadow:"none",borderRadius:5,fontSize:"0.8rem",width:"10rem"})},singleValue:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"rgba(0, 0, 0)"})}};var z=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],o=[{value:"Not Specified",label:"Not Specified"}],c=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=sessionStorage.getItem("token"),O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/floors",headers:{Authorization:"Bearer "+t},method:"GET"}).then((function(e){r(e.data.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c()}),[]),a.forEach((function(e){o.push({value:e.text,label:e.text})})),Object(j.jsx)(C.a,{className:"col-2",options:o,placeholder:"Not Specified",styles:R,onChange:function(e){window.sessionStorage.setItem("floor",e.value)}})},A=a(86),M=a.n(A),P=a(18),_={control:function(e,t){var a;return Object(N.a)(Object(N.a)({},e),{},(a={fontFamily:"Bariol Regular",boxShadow:0,top:"0rem",width:"10rem",cursor:"text",borderRadius:5,fontSize:"0.8rem"},Object(P.a)(a,"width","14rem"),Object(P.a)(a,"borderColor","#EAEAEA"),a))},option:function(e,t){var a=t.isFocused;return Object(N.a)(Object(N.a)({},e),{},{cursor:"pointer",backgroundColor:"white",color:a?"rgba(255, 80, 86)":"black",lineHeight:2})},input:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"black",fontFamily:"Bariol Regular"})},menu:function(e){return Object(N.a)(Object(N.a)({},e),{},{top:"1.9rem",width:"14rem",boxShadow:"none",borderRadius:5,fontSize:"0.8rem"})},singleValue:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"rgba(0, 0, 0)",fontSize:"0.8rem"})}};var L=function(e){var t=e.onChange,a=e.oldValue,r=Object(n.useState)([]),o=Object(s.a)(r,2),c=o[0],d=o[1],u=[],b=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=sessionStorage.getItem("token"),O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/buildings",headers:{Authorization:"Bearer "+t},method:"GET"}).then((function(e){d(e.data.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){b()}),[]),c.forEach((function(e){u.push({value:e.text,label:e.text})}));var m="Not Specified";return null!==a&&(m="".concat(a)),Object(j.jsx)(C.a,{options:u,placeholder:m,styles:_,onChange:t})},V={control:function(e,t){var a;return Object(N.a)(Object(N.a)({},e),{},(a={fontFamily:"Bariol Regular",boxShadow:0,left:"16rem",paddingBottom:"0rem",top:"-1.6rem",width:"10rem",cursor:"text",borderRadius:5,fontSize:"0.8rem"},Object(P.a)(a,"width","14rem"),Object(P.a)(a,"borderColor","#EAEAEA"),a))},option:function(e,t){var a=t.isFocused;return Object(N.a)(Object(N.a)({},e),{},{cursor:"pointer",backgroundColor:"white",color:a?"rgba(255, 80, 86)":"black",lineHeight:2})},input:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"black",fontFamily:"Bariol Regular"})},menu:function(e){return Object(N.a)(Object(N.a)({},e),{},{left:"16rem",top:"0.3rem",boxShadow:"none",borderRadius:5,fontSize:"0.8rem",width:"14rem"})},singleValue:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"rgba(0, 0, 0)",fontSize:"0.8rem"})}};var q=function(e){var t=e.onChange,a=e.oldValue,r=Object(n.useState)([]),o=Object(s.a)(r,2),c=o[0],d=o[1],u=[],b=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=sessionStorage.getItem("token"),O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/floors",headers:{Authorization:"Bearer "+t},method:"GET"}).then((function(e){d(e.data.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){b()}),[]),c.forEach((function(e){u.push({value:e.text,label:e.text})}));var m="Not Specified";return null!==a&&(m="".concat(a)),Object(j.jsx)(C.a,{className:"positionFloorSelect",options:u,placeholder:m,styles:V,onChange:t})},G={control:function(e,t){var a;return Object(N.a)(Object(N.a)({},e),{},(a={fontFamily:"Bariol Regular",boxShadow:0,top:"0rem",width:"10rem",cursor:"text",borderRadius:5,fontSize:"0.8rem"},Object(P.a)(a,"width","14rem"),Object(P.a)(a,"borderColor","#EAEAEA"),a))},option:function(e,t){var a=t.isFocused;return Object(N.a)(Object(N.a)({},e),{},{cursor:"pointer",backgroundColor:"white",color:a?"rgba(255, 80, 86)":"black",lineHeight:2})},input:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"black",fontFamily:"Bariol Regular"})},menu:function(e){return Object(N.a)(Object(N.a)({},e),{},{top:"1.9rem",boxShadow:"none",borderRadius:5,fontSize:"0.8rem",width:"14rem"})},singleValue:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"rgba(0, 0, 0)",fontSize:"0.8rem"})}};var W=function(e){var t=e.onChange,a=e.oldValue,n=[{value:30,label:"30 min."},{value:60,label:"1 hr."},{value:90,label:"1 hr. 30 min."},{value:120,label:"2 hrs."},{value:150,label:"2 hrs. 30 min."},{value:180,label:"3 hrs."}],r="Not Specified";if(null!==a)for(var o=0;o<n.length;o++)a===n[o].value&&(r=n[o].label);return Object(j.jsx)(C.a,{options:n,placeholder:r,styles:G,onChange:t})},U={control:function(e,t){return Object(N.a)(Object(N.a)({},e),{},{fontFamily:"Bariol Regular",boxShadow:0,left:"16rem",paddingBottom:"0rem",top:"-1.6rem",cursor:"text",borderRadius:5,fontSize:"0.8rem",width:"14rem",borderColor:"#EAEAEA"})},option:function(e,t){var a=t.isFocused;return Object(N.a)(Object(N.a)({},e),{},{cursor:"pointer",backgroundColor:"white",color:a?"rgba(255, 80, 86)":"black",lineHeight:2})},input:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"black",fontFamily:"Bariol Regular"})},menu:function(e){return Object(N.a)(Object(N.a)({},e),{},{left:"16rem",top:"0.3rem",boxShadow:"none",borderRadius:5,fontSize:"0.8rem",width:"14rem"})},singleValue:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"rgba(0, 0, 0)",fontSize:"0.8rem"})}};var J=function(e){var t=e.minDuration,a=e.onChange,n=e.oldValue,r=[{value:30,label:"30 min."},{value:60,label:"1 hr."},{value:90,label:"1 hr. 30 min."},{value:120,label:"2 hrs."},{value:150,label:"2 hrs. 30 min."},{value:180,label:"3 hrs."}];if("number"===typeof t)for(var o=0;o<r.length;o++)r[o].value===t&&(t=r[o]);var s="Not Specified",c=[];if(""!==t)for(o=0;o<r.length;o++)r[o].value>=t.value&&c.push(r[o]);if(null!==n)for(o=0;o<r.length;o++)n===r[o].value&&(s=r[o].label);return Object(j.jsx)(C.a,{className:"positionFloorSelect",options:c,placeholder:s,styles:U,onChange:a})},Y={control:function(e,t){return Object(N.a)(Object(N.a)({},e),{},{fontFamily:"Bariol Regular",boxShadow:0,top:"0rem",cursor:"text",borderRadius:5,fontSize:"0.8rem",width:"14rem",borderColor:"#EAEAEA"})},option:function(e,t){var a=t.isFocused;return Object(N.a)(Object(N.a)({},e),{},{cursor:"pointer",color:a?"rgba(255, 80, 86)":"black",lineHeight:2})},input:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"black",fontFamily:"Bariol Regular"})},menu:function(e){return Object(N.a)(Object(N.a)({},e),{},{top:"1.9rem",boxShadow:"none",borderRadius:5,fontSize:"0.8rem",width:"14rem"})},menuList:function(e){return Object(N.a)(Object(N.a)({},e),{},{height:"9rem"})},singleValue:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"rgba(0, 0, 0)",fontSize:"0.8rem"})}};var H=function(e){var t=e.onChange,a=e.oldValue,n="Not Specified";return null!==a&&(n=a),Object(j.jsx)(C.a,{options:[{value:"09:00",label:"09:00"},{value:"09:30",label:"09:30"},{value:"10:00",label:"10:00"},{value:"10:30",label:"10:30"},{value:"11:00",label:"11:00"},{value:"11:30",label:"11:30"},{value:"12:00",label:"12:00"},{value:"12:30",label:"12:30"},{value:"13:00",label:"13:00"},{value:"13:30",label:"13:30"},{value:"14:00",label:"14:00"},{value:"14:30",label:"14:30"},{value:"15:00",label:"15:00"},{value:"15:30",label:"15:30"},{value:"16:00",label:"16:00"},{value:"16:30",label:"16:30"},{value:"17:00",label:"17:00"},{value:"17:30",label:"17:30"},{value:"18:00",label:"18:00"},{value:"18:30",label:"18:30"},{value:"19:00",label:"19:00"},{value:"19:30",label:"19:30"},{value:"20:00",label:"20:00"}],placeholder:n,styles:Y,onChange:t})},K={control:function(e,t){return Object(N.a)(Object(N.a)({},e),{},{fontFamily:"Bariol Regular",boxShadow:0,left:"16rem",paddingBottom:"0rem",top:"-1.61rem",cursor:"text",borderRadius:5,fontSize:"0.8rem",width:"14rem",borderColor:"#EAEAEA"})},option:function(e,t){var a=t.isFocused;return Object(N.a)(Object(N.a)({},e),{},{cursor:"pointer",color:a?"rgba(255, 80, 86)":"black",lineHeight:2})},input:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"black",fontFamily:"Bariol Regular"})},menu:function(e){return Object(N.a)(Object(N.a)({},e),{},{left:"16rem",top:"-0.4rem",boxShadow:"none",borderRadius:5,fontSize:"0.8rem",width:"14rem",borderColor:"#EAEAEA"})},menuList:function(e){return Object(N.a)(Object(N.a)({},e),{},{height:"9rem"})},singleValue:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"rgba(0, 0, 0)",fontSize:"0.8rem"})}};var X=function(e){var t=e.minDuration,a=e.startTime,n=e.onChange,r=e.oldValue,o=[{value:"09:00",label:"09:00"},{value:"09:30",label:"09:30"},{value:"10:00",label:"10:00"},{value:"10:30",label:"10:30"},{value:"11:00",label:"11:00"},{value:"11:30",label:"11:30"},{value:"12:00",label:"12:00"},{value:"12:30",label:"12:30"},{value:"13:00",label:"13:00"},{value:"13:30",label:"13:30"},{value:"14:00",label:"14:00"},{value:"14:30",label:"14:30"},{value:"15:00",label:"15:00"},{value:"15:30",label:"15:30"},{value:"16:00",label:"16:00"},{value:"16:30",label:"16:30"},{value:"17:00",label:"17:00"},{value:"17:30",label:"17:30"},{value:"18:00",label:"18:00"},{value:"18:30",label:"18:30"},{value:"19:00",label:"19:00"},{value:"19:30",label:"19:30"},{value:"20:00",label:"20:00"}];if("string"===typeof a)for(var s=0;s<o.length;s++)o[s].value===a&&(a=o[s]);var c=[],i="Not Specified",l=t.value/30-1;if(""!==a)for(s=0;s<o.length;s++)if(parseInt(o[s].value.slice(0,2))>=parseInt(a.value.slice(0,2))&&(parseInt(o[s].value.slice(3,5))>parseInt(a.value.slice(3,5))||parseInt(o[s].value.slice(0,2))>parseInt(a.value.slice(0,2)))){if(l>0){l-=1;continue}c.push(o[s])}return null!==r&&(i=r),Object(j.jsx)(C.a,{className:"positionFloorSelect",options:c,placeholder:i,styles:K,onChange:n})};var Q=function(e){var t=e.closeModal,a=e.roomId,r=Object(n.useState)(!1),o=Object(s.a)(r,2),c=(o[0],o[1]),d=Object(n.useState)(""),u=Object(s.a)(d,2),m=u[0],h=u[1],g=sessionStorage.getItem("token"),f=Object(n.useState)(""),v=Object(s.a)(f,2),x=v[0],p=v[1],S=Object(n.useState)(""),w=Object(s.a)(S,2),N=w[0],C=w[1],y=Object(n.useState)(""),I=Object(s.a)(y,2),k=I[0],F=I[1],T=Object(n.useState)(""),D=Object(s.a)(T,2),B=D[0],E=D[1],R=Object(n.useState)(""),z=Object(s.a)(R,2),A=z[0],M=z[1],P=Object(n.useState)([]),_=Object(s.a)(P,2),V=_[0],G=_[1],U=Object(n.useState)(""),Y=Object(s.a)(U,2),K=Y[0],Q=Y[1],Z=Object(n.useState)(""),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)(""),ne=Object(s.a)(ae,2),re=ne[0],oe=ne[1],se=Object(n.useState)(""),ce=Object(s.a)(se,2),ie=ce[0],le=ce[1],de=Object(b.g)(),ue=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("room id",a),e.next=4,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/room-infos/".concat(a),headers:{Authorization:"Bearer "+g},method:"GET",data:{}}).then((function(e){oe(e.data.data.building),le(e.data.data.floor),p(e.data.data.roomName),Q(e.data.data.startTime.slice(0,5)),te(e.data.data.endTime.slice(0,5)),C(e.data.data.capacity),F(e.data.data.minAttendees),E(e.data.data.minDuaration),M(e.data.data.maxDuration),G(e.data.data.roomPictureUrl)}));case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],e.next=3,je(a);case 3:n=e.sent,h(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){t(n.result)},n.onerror=function(e){a(e)}}))},me=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,o,s,l,d,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=m,0==m.length&&(n=V),null!==(r=re)&&"Not Specified"!==r||(r=re),null!==(o=ie)&&"Not Specified"!==o||(o=ie),s=B,l=A,d=K+":00",u=ee+":00",console.log(a),console.log(x),console.log(r),console.log(o),console.log(N),console.log(n),console.log(k),console.log(s),console.log(l),console.log(d),console.log(u),e.prev=22,e.next=25,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/rooms-modify",headers:{Authorization:"Bearer "+g},method:"POST",data:{RoomId:a,RoomName:x,Building:r,Floor:o,RoomCapacity:N,RoomPictureUrl:n,MinAttendee:k,MinDuration:s,MaxDuration:l,CloseTime:u,OpenTime:d}}).then((function(e){alert("Your room has been modified"),de.push("/roomManagement"),window.location.reload("/roomManagement")}));case 25:e.next=32;break;case 27:e.prev=27,e.t0=e.catch(22),console.log(e.t0.response.data.message),alert(e.t0.response.data.message),c(!0);case 32:case"end":return e.stop()}}),e,null,[[22,27]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){ue()}),[]),Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"createRoom-modal ",children:Object(j.jsxs)("div",{className:"createRoom-modalContainer",children:[Object(j.jsx)("div",{className:"title",children:"MODIFY ROOM"}),Object(j.jsx)("div",{className:"body",children:Object(j.jsxs)("form",{className:"new-col-12",children:[Object(j.jsx)("label",{className:"col-6 firstForm",children:"Building"}),Object(j.jsx)("label",{className:"col-6 secondForm",children:"Floor"}),Object(j.jsx)(L,{onChange:function(e){oe(e.value.toString())},className:"size zero",oldValue:re}),Object(j.jsx)(q,{onChange:function(e){le(e.value.toString())},className:"size secondP",oldValue:ie}),Object(j.jsx)("label",{className:"col-6 firstForm",children:"Room Title"}),Object(j.jsx)("label",{className:"col-6 secondForm",children:"Room Capacity"}),Object(j.jsx)("textarea",{className:"size",placeholder:x,onChange:function(e){return p(e.target.value)},required:!0}),Object(j.jsx)("textarea",{className:"size  secondP",placeholder:N,onChange:function(e){return C(e.target.value)},required:!0}),Object(j.jsxs)("div",{className:"rowWWWW",children:[Object(j.jsx)("label",{className:"col-6 firstForm",children:"Require Member"}),Object(j.jsx)("label",{className:"col-6 secondForm",children:"Room Image"}),Object(j.jsx)("textarea",{className:"size",placeholder:k,onChange:function(e){return F(e.target.value)},required:!0}),Object(j.jsx)("input",{type:"file",className:"col-6 size form-control thirdP",id:"customFile",onChange:function(e){be(e)}})]}),Object(j.jsx)("label",{className:"col-6 firstForm",children:"Min Duration"}),Object(j.jsx)("label",{className:"col-6 secondForm",children:"Max Duration"}),Object(j.jsx)(W,{onChange:function(e){E(e.value)},className:"size zero",oldValue:B}),Object(j.jsx)(J,{onChange:function(e){M(e.value)},minDuration:B,className:"size secondP",oldValue:A}),Object(j.jsx)("label",{className:"col-6 firstForm",children:"Start Time"}),Object(j.jsx)("label",{className:"col-6 secondForm",children:"End Time"}),Object(j.jsx)(H,{onChange:function(e){Q(e.value)},className:"size zero",oldValue:K}),Object(j.jsx)(X,{onChange:function(e){te(e.value)},className:"size secondP",oldValue:ee,startTime:K,minDuration:B})]})}),Object(j.jsxs)("div",{className:"footer",children:[Object(j.jsx)("button",{className:"btn btn-danger btn-sm",onClick:me,type:"button",children:"Save"}),Object(j.jsx)("button",{className:"btn btn-primary btn-sm",type:"button",onClick:function(){return t(!1)},id:"cancelLogOut",children:"Cancel"})]})]})})})};var Z=function(e){var t=e.closeModal,a=e.roomId,r=Object(b.g)(),o=sessionStorage.getItem("token"),c=Object(n.useState)(""),d=Object(s.a)(c,2),u=d[0],m=d[1],h=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("room id",a),e.next=4,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/number-reservation/".concat(a),headers:{Authorization:"Bearer "+o},method:"GET",data:{}}).then((function(e){console.log("res",e.data.data),e.data.data>0?1==e.data.data?m("There are "+e.data.data+" reservation. Are you sure you want to revoke it?"):m("There are "+e.data.data+" reservations. Are you sure you want to revoke it?"):m("")}));case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){h()}),[]),Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"logout-modal",children:Object(j.jsxs)("div",{className:"delete-modalContainer",children:[Object(j.jsx)("div",{className:"title",children:"DELETE ROOM"}),Object(j.jsx)("div",{className:"body",children:u}),Object(j.jsxs)("div",{className:"footer",children:[Object(j.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(e){e.preventDefault(),O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/rooms-delete/".concat(a),headers:{Authorization:"Bearer "+o},method:"POST",data:{}}).then((function(e){console.log("okay",e.data),alert("Your room has been deleted");r.push("/roomManagement"),window.location.reload()})).catch((function(e){console.log(e.response),alert("Failed to delete room")}))},type:"button",children:"OK"}),Object(j.jsx)("button",{className:"btn btn-primary btn-sm",type:"button",onClick:function(){return t(!1)},id:"cancelLogOut",children:"Cancel"})]})]})})})},$=function(){return{extendDetails:!0,extendPictures:!1}};var ee=function(e){var t=e.data,a=e.roomId,r=e.date,o=e.refreshComponent,c=Object(n.useState)($),i=Object(s.a)(c,2),l=i[0],d=i[1],u=sessionStorage.getItem("token"),b=window.sessionStorage.getItem("memberId");return Object(n.useEffect)((function(){0!==t.bookingId?d({extendDetails:!1,extendPictures:!1}):d({extendDetails:!0,extendPictures:!1})}),[l]),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{name:"extendDetails",class:"disable-btn",onClick:function(e){var n=e.target.name;if(d(Object(N.a)(Object(N.a)({},l),{},Object(P.a)({},n,!l[n]))),console.log(l.extendDetails),l.extendDetails){var s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(null!==(r=r.toString())){for(var c=window.sessionStorage.getItem("name").split(" "),i=r.slice(8,10),j="",m=r.slice(11,15),h=0;h<=s.length;h++)s[h]===r.slice(4,7).toString()&&(j=h<10?"0"+(h+1).toString():(h+1).toString());var g=parseInt(t.startTime.slice(0,2))-7;g=g<10?"0"+g.toString()+t.startTime.slice(2).toString():g.toString()+t.startTime.slice(2).toString();var f=parseInt(t.endTime.toString().slice(0,2))-7,v=m+"-"+j+"-"+i+"T"+g,x=m+"-"+j+"-"+i+"T"+(f=f<10?"0"+f.toString()+t.endTime.slice(2).toString():f.toString()+t.endTime.slice(2).toString());console.log(a),console.log(v),console.log(x),console.log(c[0]),console.log(c[1]),console.log(b),O()({url:"https://arr-dev.azurewebsites.net/api/v1/mobiles/book",headers:{Authorization:"Bearer "+u},method:"POST",data:{Title:"Disable",RoomId:a,ActivityId:10,ChannelName:"Website - Disable",StartDateTime:v,EndDateTime:x,StaffFirstName:c[0],StaffLastName:c[1],Member:[b]}}).then((function(e){console.log("okay",e.data),alert("Your disable is successful"),o()})).catch((function(e){console.log(e.response.data),alert(e.response.data.message)}))}}else console.log(t.bookingId),console.log(b),O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/bookings/".concat(t.bookingId,"/cancel/").concat(b),headers:{Authorization:"Bearer "+u},method:"GET"}).then((function(e){console.log("okay",e.data),alert("Your available is successful"),o()})).catch((function(e){console.log(e.response.data),alert(e.response.data.message)}))},children:l.extendDetails?"Available":"Disable"}),Object(j.jsxs)("div",{class:"disable-cell",children:[t.startTime.slice(0,5)," - ",t.endTime.slice(0,5)," hrs."]}),Object(j.jsx)("hr",{class:"hr-disable"})]})},te=function(e){var t=e.onChange,a=e.oldValue;return Object(j.jsx)(F.a,{selected:a,onChange:t,dateFormat:"dd/MM/yyyy",placeholderText:"dd/mm/yyyy"})};var ae=function(e){var t=e.closeModal,a=e.roomId,r=(Object(b.g)(),Object(n.useState)({})),o=Object(s.a)(r,2),c=o[0],d=o[1],u=Object(n.useState)(null),m=Object(s.a)(u,2),h=m[0],g=m[1],f=Object(n.useState)(new Date),v=Object(s.a)(f,2),x=v[0],p=v[1],S=sessionStorage.getItem("token"),w=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("room id",a),e.next=4,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/room-infos/".concat(a),headers:{Authorization:"Bearer "+S},method:"GET",data:{}}).then((function(e){console.log(e.data.data),d(e.data.data)}));case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,o,s,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=x,null!==t&&(n=t),o=(r=n).getDate(),s=r.getMonth()+1,c=r.getFullYear(),l=c+"-"+s+"-"+o,e.next=10,O()({url:" https://arr-dev.azurewebsites.net/api/v1/webs/reserved-timeslots/".concat(a,"?date=").concat(l),headers:{Authorization:"Bearer "+S},method:"GET"}).then((function(e){g(e.data.data),console.log(e.data.data)}));case 10:e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),C=[];if(null!==h){for(var y=[],I=[],k=[],F=0;F<h.reservedSlot.length;F+=1){var T=parseFloat(h.reservedSlot[F].startDateTime.slice(11,13));"30"===h.reservedSlot[F].startDateTime.slice(14,16)&&(T+=.5);var D=parseFloat(h.reservedSlot[F].endDateTime.slice(11,13));"30"===h.reservedSlot[F].endDateTime.slice(14,16)&&(D+=.5);for(var B=T;B<=D;B+=.5)B.toString()!==D.toString()&&(y.push(B.toString()),I.push(h.reservedSlot[F].bookingId),k.push(h.reservedSlot[F].statusId))}console.log(y);var E=parseFloat(h.openTime.slice(11,13));"30"===h.openTime.slice(14,16)&&(E+=.5);var R=parseFloat(h.closedTime.slice(11,13));"30"===h.closedTime.slice(14,16)&&(R+=.5);var z=0;for(F=E;F<=R-.5;F+=.5){var A="",M="",P=0;if(y.includes(F.toString())){if(6!==k[z]){z++;continue}P=I[z],z++}F/parseInt(F)!==1?F<10?(A="0"+parseInt(F)+":30:00",M=parseInt(F)+1<10?"0"+(parseInt(F)+1)+":00:00":parseInt(F)+1+":00:00"):(A=parseInt(F)+":30:00",M=parseInt(F)+1+":00:00"):F<10?(A="0"+parseInt(F)+":00:00",M=(parseInt(F),"0"+parseInt(F)+":30:00")):(A=parseInt(F)+":00:00",M=parseInt(F)+":30:00");var _={startTime:A.toString(),endTime:M.toString(),bookingId:P};(new Date).toString().slice(8,10)===x.toString().slice(8,10)?(new Date).toString().slice(16,24)<_.startTime&&C.push(_):(new Date).toString().slice(8,10)<x.toString().slice(8,10)&&C.push(_)}}console.table(C);var L=[];for(F=0;F<C.length;F++){var V={startTime:C[F].startTime,endTime:C[F].endTime,bookingId:C[F].bookingId};L.push(V)}Object(n.useEffect)((function(){w(),N(null)}),[]);var q=null;function G(){N(null)}return L&&(q=L.map((function(e){return Object(j.jsx)(ee,{data:e,roomId:a,date:x,refreshComponent:G})}))),Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"disable-model",children:Object(j.jsxs)("div",{className:"disable-modelContainer",children:[Object(j.jsx)("button",{className:"disable-modelContainer-button",type:"button",onClick:function(){return t(!1)},children:"X"}),Object(j.jsx)("div",{className:"title AllBig",children:c.roomName}),Object(j.jsx)("i",{class:"iconAddress bx bxs-school"}),Object(j.jsxs)("div",{class:"address ",children:[c.roomName," @ ",c.building," ",c.floor," floor"]}),Object(j.jsx)("h1",{class:"disable_search_container_date",children:" Date "}),Object(j.jsx)("div",{class:"date-drop-down disable ",children:Object(j.jsx)(te,{onChange:function(e){p(e),N(e)},oldValue:x})}),Object(j.jsx)("div",{className:"body disable-border-cell disable-row canScroll",children:Object(j.jsx)("div",{class:"col",children:q})}),Object(j.jsx)("div",{className:"footer"})]})})})};var ne=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(!1),i=Object(s.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(!1),b=Object(s.a)(u,2),m=b[0],h=b[1],O=e.data,g=O.roomId;return Object(j.jsx)("div",{className:"col-3",children:Object(j.jsxs)("div",{className:"card_room_management_room",children:[Object(j.jsx)("i",{class:"card_room_management_room_writeimg bx bx-edit",onClick:function(){o(!0)}}),r&&Object(j.jsx)(Q,{closeModal:o,roomId:g}),Object(j.jsx)("i",{class:"card_room_management_room_delete bx bx-trash",onClick:function(){d(!0)}}),l&&Object(j.jsx)(Z,{closeModal:d,roomId:g}),Object(j.jsx)("i",{class:"card_room_management_room_clockimg bx bx-time-five"}),Object(j.jsx)("div",{className:"card_room_management_room_roomname",children:O.roomName}),Object(j.jsxs)("div",{className:"card_room_management_room_time",children:[O.openTime.slice(0,5)," - ",O.closeTime.slice(0,5)," hrs."]}),Object(j.jsxs)("a",{href:"#",class:"card_room_management_room_link",onClick:function(){h(!0)},children:["See more ",">"]}),m&&Object(j.jsx)(ae,{closeModal:h,roomId:g})]})})};var re=function(e){var t=e.data,a=null;return t&&(a=t[1].map((function(e){return Object(j.jsx)(ne,{data:e})}))),Object(j.jsx)("div",{class:"card_room_management_floor",children:Object(j.jsxs)("div",{class:"card-body",children:[Object(j.jsxs)("p",{class:"card_room_management_floor_head card-text",children:[t[0]," Floor"]}),Object(j.jsx)("hr",{class:"hr-floor"}),Object(j.jsx)("div",{class:"row",children:a})]})})};var oe=function(e){var t=e.listNotComplete,a=e.onClick,r=Object(n.useState)(""),o=Object(s.a)(r,2),c=(o[0],o[1],Object(n.useState)("")),i=Object(s.a)(c,2),l=(i[0],i[1],Object(n.useState)("")),d=Object(s.a)(l,2),u=(d[0],d[1],Object(n.useState)("")),m=Object(s.a)(u,2),h=(m[0],m[1],Object(n.useState)("")),O=Object(s.a)(h,2),g=(O[0],O[1],Object(n.useState)("")),f=Object(s.a)(g,2),v=(f[0],f[1],Object(n.useState)("")),x=Object(s.a)(v,2),p=(x[0],x[1],Object(n.useState)("")),S=Object(s.a)(p,2),w=(S[0],S[1],Object(n.useState)(!0)),N=Object(s.a)(w,2),C=(N[0],N[1],sessionStorage.getItem("token"),Object(b.g)(),null);return t&&(C=t.map((function(e){return Object(j.jsx)("li",{children:e})}))),Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"createRoom-modal ",children:Object(j.jsxs)("div",{className:"createRoom-modalContainer-notComplete",children:[Object(j.jsx)("div",{className:"title",children:"Plese fill the following thing(s)."}),Object(j.jsx)("ul",{children:C}),Object(j.jsx)("button",{className:"btn btn-danger btn-sm",type:"button",onClick:a,children:"Close"})]})})})};var se=function(e){var t=e.closeModal,a=Object(n.useState)(""),r=Object(s.a)(a,2),o=r[0],c=r[1],d=Object(n.useState)(""),u=Object(s.a)(d,2),m=u[0],h=u[1],g=Object(n.useState)(""),f=Object(s.a)(g,2),v=f[0],x=f[1],p=Object(n.useState)(""),S=Object(s.a)(p,2),w=S[0],N=S[1],C=Object(n.useState)(""),y=Object(s.a)(C,2),I=y[0],k=y[1],F=Object(n.useState)(""),T=Object(s.a)(F,2),D=T[0],B=T[1],E=Object(n.useState)(""),R=Object(s.a)(E,2),z=R[0],A=R[1],M=Object(n.useState)(""),P=Object(s.a)(M,2),_=P[0],V=P[1],G=Object(n.useState)(""),U=Object(s.a)(G,2),Y=U[0],K=U[1],Q=Object(n.useState)(""),Z=Object(s.a)(Q,2),$=Z[0],ee=Z[1],te=Object(n.useState)(!0),ae=Object(s.a)(te,2),ne=ae[0],re=ae[1],se=sessionStorage.getItem("token"),ce=Object(n.useState)([]),ie=Object(s.a)(ce,2),le=ie[0],de=ie[1],ue=Object(b.g)(),be=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],e.next=3,je(a);case 3:n=e.sent,B(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){t(n.result)},n.onerror=function(e){a(e)}}))};return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"createRoom-modal",children:Object(j.jsxs)("div",{className:"createRoom-modalContainer",children:[Object(j.jsx)("div",{className:"title",children:"CREATE ROOM"}),Object(j.jsx)("div",{className:"body",children:Object(j.jsxs)("form",{className:"new-col-12",children:[Object(j.jsx)("label",{className:"col-6 firstForm",children:"Building"}),Object(j.jsx)("label",{className:"col-6 secondForm",children:"Floor"}),Object(j.jsx)(L,{onChange:function(e){c(e.value.toString())},className:"size zero",required:!0,oldValue:null}),Object(j.jsx)(q,{onChange:function(e){h(e.value.toString())},className:"size secondP",required:!0,oldValue:null}),Object(j.jsx)("label",{className:"col-6 firstForm",children:"Room Title"}),Object(j.jsx)("label",{className:"col-6 secondForm",children:"Room Capacity"}),Object(j.jsx)("textarea",{className:"size",onChange:function(e){return x(e.target.value)},required:!0}),Object(j.jsx)("textarea",{className:"size  secondP",onChange:function(e){return N(e.target.value)},required:!0}),Object(j.jsxs)("div",{className:"rowWWWW",children:[Object(j.jsx)("label",{className:"col-6 firstForm",children:"Require Member"}),Object(j.jsx)("label",{className:"col-6 secondForm",children:"Room Image"}),Object(j.jsx)("textarea",{className:"size",onChange:function(e){return k(e.target.value)},required:!0}),Object(j.jsx)("input",{type:"file",className:"col-6 size form-control thirdP",id:"customFile",onChange:function(e){be(e)}})]}),Object(j.jsx)("label",{className:"col-6 firstForm",children:"Min Duration"}),Object(j.jsx)("label",{className:"col-6 secondForm",children:"Max Duration"}),Object(j.jsx)(W,{onChange:function(e){K(e)},className:"size zero",required:!0}),Object(j.jsx)(J,{minDuration:Y,onChange:function(e){ee(e)},className:"size secondP",required:!0}),Object(j.jsx)("label",{className:"col-6 firstForm",children:"Start Time"}),Object(j.jsx)("label",{className:"col-6 secondForm",children:"End Time"}),Object(j.jsx)(H,{onChange:function(e){A(e)},className:"size zero",required:!0,oldValue:null}),Object(j.jsx)(X,{minDuration:Y,startTime:z,onChange:function(e){V(e)},className:"size secondP",required:!0,oldValue:null})]})}),Object(j.jsxs)("div",{className:"footer",children:[Object(j.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(e){console.log(ne);var t=o,a=m,n=Y.value,r=$.value,s=z.value,c=_.value,i=le;e.preventDefault(),console.log(t),""===t?(re(!1),le.includes("Building")||le.push("Building")):le.includes("Building")&&(i=i.filter((function(e){return"Building"!==e}))),console.log(a),""===a?(re(!1),le.includes("Floor")||le.push("Floor")):le.includes("Floor")&&(i=i.filter((function(e){return"Floor"!==e}))),console.log(v),""===v?(re(!1),le.includes("Room Title")||le.push("Room Title")):le.includes("Room Title")&&(i=i.filter((function(e){return"Room Title"!==e}))),console.log(w),""===w?(re(!1),le.includes("Room Capacity")||le.push("Room Capacity")):le.includes("Room Capacity")&&(i=i.filter((function(e){return"Room Capacity"!==e}))),console.log(D),""===D?(re(!1),le.includes("Image")||le.push("Image")):le.includes("Image")&&(i=i.filter((function(e){return"Image"!==e}))),console.log(I),""===I?(re(!1),le.includes("Require Member")||le.push("Require Member")):le.includes("Require Member")&&(i=i.filter((function(e){return"Require Member"!==e}))),console.log(n),"undefined"===typeof n?(re(!1),le.includes("Min Duration")||le.push("Min Duration")):le.includes("Min Duration")&&(i=i.filter((function(e){return"Min Duration"!==e}))),console.log(r),"undefined"===typeof r?(re(!1),le.includes("Max Duration")||le.push("Max Duration")):le.includes("Max Duration")&&(i=i.filter((function(e){return"Max Duration"!==e}))),console.log(s),"undefined"===typeof s?(re(!1),le.includes("Start Time")||le.push("Start Time")):le.includes("Start Time")&&(i=i.filter((function(e){return"Start Time"!==e}))),console.log(c),"undefined"===typeof c?(re(!1),le.includes("End Time")||le.push("End Time")):le.includes("End Time")&&(i=i.filter((function(e){return"End Time"!==e}))),console.log(i),de(i);var l=ne;0===le.length&&(console.log("changed"),l=!0),l&&O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/rooms-create",headers:{Authorization:"Bearer "+se},method:"POST",data:{Campus:null,Building:t,Floor:a,RoomTitle:v,RoomCapacity:w,RoomPictureUrl:D,MinAttendee:I,MinDuration:n,MaxDuration:r,CloseTime:c,OpenTime:s}}).then((function(e){console.log("okay",e.data),alert("Your room has been created");ue.push("/roomManagement"),window.location.reload()}))},type:"button",children:"Create"}),Object(j.jsx)("button",{className:"btn btn-primary btn-sm",type:"button",onClick:function(){return t(!1)},id:"cancelLogOut",children:"Cancel"})]}),!ne&&Object(j.jsx)(oe,{listNotComplete:le,onClick:function(){re(!0)}})]})})})};var ce=function(e){var t=sessionStorage.getItem("token"),a=sessionStorage.getItem("memberId"),r=Object(n.useState)(!0),o=Object(s.a)(r,2),c=o[0],d=o[1],u=Object(n.useState)(),b=Object(s.a)(u,2),m=b[0],h=b[1],g=Object(n.useState)(!1),f=Object(s.a)(g,2),v=f[0],x=f[1],p=function(){var e=Object(l.a)(i.a.mark((function e(n){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=window.sessionStorage.getItem("building"),o=window.sessionStorage.getItem("floor"),"Not Specified"===r&&(r=null),"Not Specified"===o&&(o=null),console.log(a),e.next=8,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/explore-rooms",headers:{Authorization:"Bearer "+t},method:"POST",data:{Building:r,Floor:o,MemberId:a}}).then((function(e){h(e.data.data),0!==e.data.data.length?d(!1):d(!0)})).catch((function(e){}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=null;return m&&(S=m.map((function(e){return Object(j.jsx)(re,{data:Object.values(e)})}))),Object(j.jsxs)("div",{class:"room_management",children:[Object(j.jsx)("h1",{class:"search_container_building",children:"Building"}),Object(j.jsx)("h1",{class:"search_container_floor",children:"Floor"}),Object(j.jsx)(E,{}),Object(j.jsx)(z,{}),Object(j.jsx)(M.a,{onlabel:"Admin User",offlabel:"Regular User",width:20,height:10,checked:!1}),Object(j.jsx)("button",{class:"search_button_room",onClick:p,children:" Search "}),c&&Object(j.jsx)("div",{class:"room_management_not_find",children:"No Room Management"}),!c&&Object(j.jsx)("div",{class:"row canScroll",children:S}),Object(j.jsx)("button",{className:"create_room_button",onClick:function(){x(!0)},children:Object(j.jsx)("span",{class:"links_name",children:"Create Room"})}),v&&Object(j.jsx)(se,{closeModal:x})]})};var ie=function(){var e=Object(b.g)();return sessionStorage.getItem("token")||(e.push("/"),window.location.reload("/")),Object(j.jsxs)("body",{children:[Object(j.jsxs)("div",{class:"card",children:[Object(j.jsx)("img",{class:"card-img-top",src:f}),Object(j.jsxs)("div",{class:"card-img-overlay",children:[Object(j.jsx)("h4",{class:"headContent card-title",children:"ROOM MANAGEMENT"}),Object(j.jsx)("p",{class:"content card-text",children:"Suvarnabhumi Campus"})]})]}),Object(j.jsx)(ce,{})]})},le={control:function(e,t){return Object(N.a)(Object(N.a)({},e),{},{fontFamily:"Bariol Regular",boxShadow:0,top:"0rem",cursor:"text",borderRadius:5,fontSize:"0.8rem",width:"14.3rem",borderColor:"#EAEAEA"})},option:function(e,t){var a=t.isFocused;return Object(N.a)(Object(N.a)({},e),{},{cursor:"pointer",color:a?"rgba(255, 80, 86)":"black",lineHeight:2})},input:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"black",fontFamily:"Bariol Regular"})},menu:function(e){return Object(N.a)(Object(N.a)({},e),{},{top:"1.4rem",boxShadow:"none",borderRadius:5,fontSize:"0.8rem",width:"14.4rem",borderColor:"#EAEAEA"})},menuList:function(e){return Object(N.a)(Object(N.a)({},e),{},{height:"9rem"})},singleValue:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"rgba(0, 0, 0)",fontSize:"0.8rem"})}};var de=function(e){var t=e.roomId,a=e.onChange,r=e.oldValue,o=sessionStorage.getItem("token"),c=Object(n.useState)(null),d=Object(s.a)(c,2),u=d[0],b=d[1],m=window.sessionStorage.getItem("date"),h=new Date(m),g=h.getDate(),f=h.getMonth()+1,v=h.getFullYear()+"-"+f+"-"+g,x=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O()({url:"https://arr-dev.azurewebsites.net/api/v1/mobiles/reserved-timeslots/".concat(t,"?date=").concat(v),headers:{Authorization:"Bearer "+o},method:"GET"}).then((function(e){b(e.data.data),console.log(e.data.data)}));case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){x()}),[]);var p=[];if(null!==u){for(var S=[],w=0;w<u.reservedSlot.length;w+=1){var N=parseFloat(u.reservedSlot[w].startDateTime.slice(11,13));"30"===u.reservedSlot[w].startDateTime.slice(14,16)&&(N+=.5);var y=parseFloat(u.reservedSlot[w].endDateTime.slice(11,13));"30"===u.reservedSlot[w].endDateTime.slice(14,16)&&(y+=.5);for(var I=N;I<=y;I+=.5)I.toString()!==y.toString()&&S.push(I.toString())}console.log(S);var k=parseFloat(u.openTime.slice(11,13));"30"===u.openTime.slice(14,16)&&(k+=.5);var F=parseFloat(u.closedTime.slice(11,13));"30"===u.closedTime.slice(14,16)&&(F+=.5);for(w=k;w<=F;w+=.5){var T="";if(!S.includes(w.toString())){var D={value:(T=w/parseInt(w)!==1?w<10?"0"+parseInt(w)+":30:00":parseInt(w)+":30:00":w<10?"0"+parseInt(w)+":00:00":parseInt(w)+":00:00").toString(),label:T.slice(0,5).toString()};p.push(D)}}}var B="Not Specified";return null!==r&&(B=r),Object(j.jsx)(C.a,{options:p,placeholder:B,styles:le,onChange:a})},ue={control:function(e,t){return Object(N.a)(Object(N.a)({},e),{},{fontFamily:"Bariol Regular",boxShadow:0,left:"15.6rem",paddingBottom:"0rem",top:"-1.61rem",cursor:"text",borderRadius:5,fontSize:"0.8rem",width:"14.3rem",borderColor:"#EAEAEA"})},option:function(e,t){var a=t.isFocused;return Object(N.a)(Object(N.a)({},e),{},{cursor:"pointer",color:a?"rgba(255, 80, 86)":"black",lineHeight:2})},input:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"black",fontFamily:"Bariol Regular"})},menu:function(e){return Object(N.a)(Object(N.a)({},e),{},{left:"15.5rem",top:"-0.2rem",boxShadow:"none",borderRadius:5,fontSize:"0.8rem",width:"14.4rem",borderColor:"#EAEAEA"})},menuList:function(e){return Object(N.a)(Object(N.a)({},e),{},{height:"9rem"})},singleValue:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"rgba(0, 0, 0)",fontSize:"0.8rem"})}};var be=function(e){var t=e.startTime,a=e.roomId,r=e.onChange,o=e.oldValue,c=sessionStorage.getItem("token"),d=Object(n.useState)(null),u=Object(s.a)(d,2),b=u[0],m=u[1],h=new Date,g=h.getDate(),f=h.getMonth()+1,v=h.getFullYear()+"-"+f+"-"+g,x=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O()({url:"https://arr-dev.azurewebsites.net/api/v1/mobiles/reserved-timeslots/".concat(a,"?date=").concat(v),headers:{Authorization:"Bearer "+c},method:"GET",data:{}}).then((function(e){m(e.data.data)}));case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){x()}),[]);var p=[];if(null!==b&&""!==t){var S=[],w=-1,N=b.minDuration/60,y=parseFloat(t.value.slice(0,2))+N;"30"===t.value.slice(3,5)&&(y+=.5);var I=parseFloat(b.closedTime.slice(11,13));"30"===b.closedTime.slice(14,16)&&(I+=.5);for(var k=0;k<b.reservedSlot.length;k+=1){var F=parseFloat(b.reservedSlot[k].startDateTime.slice(11,13));"30"===b.openTime.slice(14,16)&&(F+=.5);var T=parseFloat(b.reservedSlot[k].endDateTime.slice(11,13));"30"===b.closedTime.slice(14,16)&&(T+=.5);for(k=F;k<=T;k+=.5)k===F&&k>=y&&(w=k),S.push(k.toString())}if(-1===w)for(k=y;k<=I;k+=.5){var D="",B={value:(D=k/parseInt(k)!==1?k<10?"0"+parseInt(k)+":30:00":parseInt(k)+":30:00":k<10?"0"+parseInt(k)+":00:00":parseInt(k)+":00:00").toString(),label:D.slice(0,5).toString()};p.push(B)}else for(k=y;k<=w;k+=.5){var E="",R={value:(E=k/parseInt(k)!==1?k<10?"0"+parseInt(k)+":30:00":parseInt(k)+":30:00":k<10?"0"+parseInt(k)+":00:00":parseInt(k)+":00:00").toString(),label:E.slice(0,5).toString()};p.push(R)}}var z="Not Specified";return null!==o&&(z=o),Object(j.jsx)(C.a,{className:"positionFloorSelect",options:p,placeholder:z,styles:ue,onChange:r})},je={control:function(e,t){return Object(N.a)(Object(N.a)({},e),{},{fontFamily:"Bariol Regular",boxShadow:0,left:"15.6rem",paddingBottom:"0rem",top:"-2.6rem",cursor:"text",borderRadius:5,fontSize:"0.8rem",width:"14.3rem",borderColor:"#EAEAEA"})},option:function(e,t){var a=t.isFocused;return Object(N.a)(Object(N.a)({},e),{},{cursor:"pointer",color:a?"rgba(255, 80, 86)":"black",lineHeight:2})},input:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"black",fontFamily:"Bariol Regular"})},menu:function(e){return Object(N.a)(Object(N.a)({},e),{},{left:"15.5rem",top:"-1.1rem",boxShadow:"none",borderRadius:5,fontSize:"0.8rem",width:"14.4rem",borderColor:"#EAEAEA"})},menuList:function(e){return Object(N.a)(Object(N.a)({},e),{},{height:"9rem"})},singleValue:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"rgba(0, 0, 0)",fontSize:"0.8rem"})}};var me=function(e){var t=e.onChange,a=e.oldValue,r=Object(n.useState)([]),o=Object(s.a)(r,2),c=o[0],d=o[1],u=[],b=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=sessionStorage.getItem("token"),O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/bookings/purposes",headers:{Authorization:"Bearer "+t},method:"GET"}).then((function(e){d(e.data.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){b()}),[]),c.forEach((function(e){u.push({value:e.id,label:e.text})}));var m="Not Specified";return null!==a&&(m=a),Object(j.jsx)(C.a,{className:"positionFloorSelect",options:u,placeholder:m,styles:je,onChange:t})};var he=function(e){var t=e.closeModal,a=e.roomId,r=Object(b.g)(),o=Object(n.useState)(""),c=Object(s.a)(o,2),d=c[0],u=c[1],m=Object(n.useState)(""),h=Object(s.a)(m,2),g=h[0],f=h[1],v=Object(n.useState)(""),x=Object(s.a)(v,2),p=x[0],S=x[1],w=Object(n.useState)(""),N=Object(s.a)(w,2),C=N[0],y=N[1],I=Object(n.useState)({}),k=Object(s.a)(I,2),F=k[0],T=k[1],D=Object(n.useState)(""),B=Object(s.a)(D,2),E=(B[0],B[1],sessionStorage.getItem("token")),R=sessionStorage.getItem("date");null===R&&(R=new Date);var z=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("room id",a),e.next=4,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/room-infos/".concat(a),headers:{Authorization:"Bearer "+E},method:"GET",data:{}}).then((function(e){T(e.data.data)}));case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){z()}),[]),Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"newReservation-modal ",children:Object(j.jsxs)("div",{className:"newReservation-modalContainer",children:[Object(j.jsx)("div",{className:"title AllBig",children:"new reservation"}),Object(j.jsx)("i",{class:"iconAddress bx bxs-school"}),Object(j.jsxs)("div",{class:"address ",children:[F.roomName," @ ",F.building," ",F.floor," floor"]}),Object(j.jsx)("i",{class:"iconCalendar bx bx-calendar"}),Object(j.jsx)("div",{class:"calendar",children:new Date(R).toLocaleDateString("en-GB")}),Object(j.jsx)("div",{className:"body",children:Object(j.jsxs)("form",{className:"col-12",children:[Object(j.jsx)("label",{className:"col-6 firstFormForNewReservation",children:"Meeting Title"}),Object(j.jsx)("label",{className:"col-6 secondFormForNewReservation",children:"Purpose"}),Object(j.jsx)("textarea",{className:"size1 firstP",onChange:function(e){return u(e.target.value)},placeholder:"Meeting Title",required:!0}),Object(j.jsx)(me,{onChange:function(e){y(e)},className:"firstPP",required:!0,oldValue:null}),Object(j.jsx)("label",{className:"col-6 firstForm1",children:"Start Time"}),Object(j.jsx)("label",{className:"col-6 secondForm1",children:"End Time"}),Object(j.jsx)(de,{roomId:a,onChange:function(e){f(e)},className:"size zero",required:!0,oldValue:null}),Object(j.jsx)(be,{startTime:g,roomId:a,onChange:function(e){S(e)},className:"size secondP",required:!0,oldValue:null})]})}),Object(j.jsxs)("div",{className:"footer",children:[Object(j.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=R.toString();if(null!==n&&""!==d&&"undefined"!==C.value&&"undefined"!==g&&"undefined"!==p){for(var o=n.slice(8,10),s="",c=n.slice(11,15),i=0;i<=t.length;i++)t[i]===n.slice(4,7).toString()&&(s=i<10?"0"+(i+1).toString():(i+1).toString());var l=d,u=C.value,b=window.sessionStorage.getItem("name").split(" "),j=window.sessionStorage.getItem("memberId"),m=parseInt(g.value.slice(0,2))-7;m=m<10?"0"+m.toString()+g.value.slice(2).toString():m.toString()+g.value.slice(2).toString();var h=parseInt(p.value.toString().slice(0,2))-7,f=c+"-"+s+"-"+o+"T"+m,v=c+"-"+s+"-"+o+"T"+(h=h<10?"0"+h.toString()+p.value.slice(2).toString():h.toString()+p.value.slice(2).toString());e.preventDefault(),O()({url:"https://arr-dev.azurewebsites.net/api/v1/mobiles/book",headers:{Authorization:"Bearer "+E},method:"POST",data:{Title:l,RoomId:a,ActivityId:u,ChannelName:"Website - Reservation",StartDateTime:f,EndDateTime:v,StaffFirstName:b[0],StaffLastName:b[1],Member:[j]}}).then((function(e){console.log("okay",e.data),alert("Your reservation has been created");r.push("/reservationManagement"),window.location.reload()})).catch((function(e){console.log(e.response.data),alert(e.response.data.message)}))}else alert("Please fill everything")},type:"button",children:"New"}),Object(j.jsx)("button",{className:"btn btn-primary btn-sm",type:"button",onClick:function(){return t(!1)},id:"cancelLogOut",children:"Cancel"})]})]})})})},Oe=a(253),ge=a(39),fe={inputProps:{"aria-label":"Checkbox demo"}};var ve=function(e){var t=e.data,a=e.selectAll,r=e.onClickCheckedBooking,o=Object(n.useState)(a),c=Object(s.a)(o,2),i=c[0],l=c[1];return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{class:"revoke-cell",children:[Object(j.jsx)(Oe.a,Object(N.a)(Object(N.a)({checked:i,onChange:function(e){l(e.target.checked),r(t.bookingId,e.target.checked)},inputProps:{"aria-label":"controlled"}},fe),{},{sx:{color:ge.a[0],"&.Mui-checked":{color:ge.a[700]}}})),t.time," hrs."]}),Object(j.jsx)("div",{class:"revoke-tab",children:t.meetingTitle}),Object(j.jsx)("hr",{class:"hr-disable"})]})};var xe=function(e){var t=e.closeModal,a=e.roomId,r=Object(b.g)(),o=Object(n.useState)({}),c=Object(s.a)(o,2),d=c[0],u=c[1],m=Object(n.useState)(null),h=Object(s.a)(m,2),g=h[0],f=h[1],v=Object(n.useState)([]),x=Object(s.a)(v,2),p=x[0],S=x[1],w=Object(n.useState)(!1),N=Object(s.a)(w,2),C=N[0],y=(N[1],Object(n.useState)("")),I=Object(s.a)(y,2),k=I[0],F=I[1],T=sessionStorage.getItem("date");null===T&&(T=new Date);var D=sessionStorage.getItem("token"),B=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("room id",a),e.next=4,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/room-infos/".concat(a),headers:{Authorization:"Bearer "+D},method:"GET",data:{}}).then((function(e){console.log("data",e.data.data),u(e.data.data)}));case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,r,o,s,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,console.log(T),console.log("room id",a),t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=T.toString(),r=n.slice(8,10),o="",s=n.slice(11,15),c=0;c<=t.length;c++)t[c]===n.slice(4,7).toString()&&(o=c<10?"0"+(c+1).toString():(c+1).toString());return l=o+"/"+r+"/"+s,console.log(l),e.next=13,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/bookings/reserved-timeslots-for-revoke",headers:{Authorization:"Bearer "+D},method:"Post",data:{roomId:a,Date:l}}).then((function(e){console.log("data",e.data.data),f(e.data.data)}));case 13:e.sent,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();function R(e,t){console.log(e,t);var a=p;if(console.log(a),t)a.push(e);else{for(var n=[],r=0;r<a.length;r++)a[r]!==e?n.push(a[r]):console.log("delete");console.log(n),a=n}console.log(a),S(a)}Object(n.useEffect)((function(){B(),E()}),[]);var z=null;return null!==g&&(z=g.map((function(e){return Object(j.jsx)(ve,{data:e,selectAll:C,onClickCheckedBooking:R})}))),Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"disable-model",children:Object(j.jsxs)("div",{className:"disable-modelContainer",children:[Object(j.jsx)("button",{className:"disable-modelContainer-button",type:"button",onClick:function(){return t(!1)},children:"X"}),Object(j.jsx)("div",{className:"title AllBig",children:d.roomName}),Object(j.jsx)("i",{class:"iconAddress bx bxs-school"}),Object(j.jsxs)("div",{class:"address ",children:[d.roomName," @ ",d.building," ",d.floor," floor"]}),Object(j.jsx)("i",{class:"iconCalendar bx bx-calendar"}),Object(j.jsx)("div",{class:"calendar",children:new Date(T).toLocaleDateString("en-GB")}),Object(j.jsx)("div",{className:"body revoke-border-cell disable-row canScroll",children:Object(j.jsx)("div",{class:"col",children:z})}),Object(j.jsx)("h5",{children:"Reason"}),Object(j.jsx)("textarea",{class:"revoke-reason",onChange:function(e){F(e.target.value)},placeholder:"   Reason"}),Object(j.jsx)("div",{className:"footer revoke-footer",children:Object(j.jsx)("button",{className:"revoke-btn btn btn-danger btn-sm",onClick:function(e){for(var t=sessionStorage.getItem("memberId"),a=0;a<p.length;a++){console.log(t),console.log(p[a]),console.log(k);try{O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/bookings/revoke",headers:{Authorization:"Bearer "+D},method:"Post",data:{memberId:t,BookingId:p[a],Reason:k}}).then((function(e){alert("Your revoke is successful");r.push("/reservationManagement"),window.location.reload()}))}catch(n){console.log(n)}}},type:"button",children:"Confirm"})})]})})})};var pe=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(!1),i=Object(s.a)(c,2),l=i[0],d=i[1],u=e.data,b=u.roomId;return Object(j.jsx)("div",{className:"col-3",children:Object(j.jsxs)("div",{className:"card_reservation_management_room",children:[Object(j.jsx)("i",{className:"card_reservation_management_room_icon bx bx-calendar-plus",onClick:function(){o(!0)}}),r&&Object(j.jsx)(he,{closeModal:o,roomId:b}),Object(j.jsx)("i",{class:"card_reservation_management_room_icon1 bx bx-trash",onClick:function(){d(!0)}}),l&&Object(j.jsx)(xe,{closeModal:d,roomId:b}),Object(j.jsx)("div",{className:"card_reservation_management_room_roomname",children:u.roomName})]})})};var Se=function(e){var t=e.data,a=null;return t&&(a=t[1].map((function(e){return Object(j.jsx)(pe,{data:e})}))),Object(j.jsx)("div",{class:"card_room_management_floor",children:Object(j.jsxs)("div",{class:"card-body",children:[Object(j.jsxs)("p",{class:"card_room_management_floor_head card-text",children:[t[0]," Floor"]}),Object(j.jsx)("hr",{class:"hr-floor"}),Object(j.jsx)("div",{class:"row",children:a})]})})};var we=function(e){var t=sessionStorage.getItem("token"),a=Object(n.useState)(!0),r=Object(s.a)(a,2),o=r[0],c=r[1],d=Object(n.useState)(),u=Object(s.a)(d,2),b=u[0],m=u[1],h=Object(n.useState)(!1),g=Object(s.a)(h,2),f=(g[0],g[1],Object(n.useState)(!1)),v=Object(s.a)(f,2),x=(v[0],v[1],sessionStorage.getItem("memberId")),p=function(){var e=Object(l.a)(i.a.mark((function e(a){var n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=window.sessionStorage.getItem("building"),r=window.sessionStorage.getItem("floor"),o=window.sessionStorage.getItem("date"),console.log(o),"Not Specified"==n&&(n=null),"Not Specified"==r&&(r=null),e.next=9,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/explore-rooms",headers:{Authorization:"Bearer "+t},method:"POST",data:{Building:n,Floor:r,MemberId:x}}).then((function(e){m(e.data.data),console.log(e.data.data),0!=e.data.data.length?(c(!1),window.sessionStorage.setItem("building","Not Specified"),window.sessionStorage.setItem("floor","Not Specified")):c(!0)})).catch((function(e){}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=null;return b&&(S=b.map((function(e){return Object(j.jsx)(Se,{data:Object.values(e)})}))),Object(j.jsxs)("div",{class:"room_management",children:[Object(j.jsx)("h1",{class:"search_container_building",children:"Building"}),Object(j.jsx)("h1",{class:"search_container_floor",children:"Floor"}),Object(j.jsx)("h1",{class:"search_container_date1",children:" Date "}),Object(j.jsx)(E,{}),Object(j.jsx)(z,{}),Object(j.jsx)("div",{class:"date-drop-down third-select",children:Object(j.jsx)(T,{})}),Object(j.jsx)("button",{class:"search_button_room1",onClick:p,children:" Search "}),o&&Object(j.jsx)("div",{class:"room_management_not_find",children:"No Reservation Management"}),!o&&Object(j.jsx)("div",{class:"row canScroll",children:S})]})};var Ne=function(){var e=Object(b.g)();return sessionStorage.getItem("token")||(e.push("/"),window.location.reload("/")),Object(j.jsxs)("body",{children:[Object(j.jsxs)("div",{class:"card",children:[Object(j.jsx)("img",{class:"card-img-top",src:f}),Object(j.jsxs)("div",{class:"card-img-overlay",children:[Object(j.jsx)("h4",{class:"headContent card-title",children:"RESERVATION MANAGEMENT"}),Object(j.jsx)("p",{class:"content card-text",children:"Suvarnabhumi Campus"})]})]}),Object(j.jsx)(we,{})]})};var Ce=function(){var e=Object(b.g)(),t=sessionStorage.getItem("token"),a=sessionStorage.getItem("memberId"),r=Object(n.useState)(""),o=Object(s.a)(r,2),c=o[0],d=o[1],u=Object(n.useState)(""),m=Object(s.a)(u,2),h=m[0],g=m[1],f=Object(n.useState)(""),v=Object(s.a)(f,2),x=v[0],p=v[1],S=Object(n.useState)(""),w=Object(s.a)(S,2),N=w[0],C=w[1];t||(e.push("/"),window.location.reload("/"));var y=function(){var n=Object(l.a)(i.a.mark((function n(r){var o,s;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),o=[],c!=sessionStorage.getItem("password")?C("The current password is incorrect"):h==sessionStorage.getItem("password")?C("The current password and the new password are the same"):h!=x?C("The confirmation password does not match the new password"):(o.push(h),console.log("confirmation",o)),console.log("confirmation1",o[0]),s=o[0],n.next=7,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/change-password/".concat(a,"/").concat(s),headers:{Authorization:"Bearer "+t},method:"GET"}).then((function(t){console.log("aa"),200==t.status&&c==sessionStorage.getItem("password")&&h!=sessionStorage.getItem("password")&&h==x!=null&&(e.push("/login"),sessionStorage.clear())})).catch((function(e){console.log(e)}));case 7:n.sent;case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"changePassword_container",children:Object(j.jsxs)("form",{class:"changePassword_form",onSubmit:y,children:[Object(j.jsx)("p",{class:"changePassword",children:"CHANGE PASSWORD"}),Object(j.jsx)("input",{onChange:function(e){return d(e.target.value)},value:c,required:!0,type:"password",id:"currentPassword",name:"CurrentPassword",placeholder:"Current password"}),Object(j.jsx)("input",{required:!0,onChange:function(e){return g(e.target.value)},value:h,type:"password",id:"newPassword",name:"NewPassword",placeholder:"New password"}),Object(j.jsx)("input",{required:!0,onChange:function(e){return p(e.target.value)},value:x,type:"password",id:"confirmNewPassword",name:"ConfirmNewPassword",placeholder:"Confirm New password"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{children:"Confirm"}),Object(j.jsx)("div",{class:"password_wrong",children:N})]})})};u.b;var ye=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),c=Object(s.a)(o,2),i=c[0],l=c[1],u=Object(n.useState)(!1),m=Object(s.a)(u,2),h=m[0],g=m[1],f=Object(b.g)();return Object(j.jsx)("div",{className:"login_container",children:Object(j.jsxs)("form",{class:"login_form",onSubmit:function(e){e.preventDefault();var t={Username:a,Password:i};O.a.post("https://arr-dev.azurewebsites.net/api/v1/login/login",t).then((function(e){window.sessionStorage.setItem("token",e.data.data.token),window.sessionStorage.setItem("username",t.Username),window.sessionStorage.setItem("password",t.Password),f.push("/roomManagement"),g(!1)})).catch((function(e){g(!0)}))},children:[Object(j.jsx)("img",{class:"login_logo",src:d}),Object(j.jsx)("input",{onChange:function(e){return r(e.target.value)},value:a,required:!0,id:"username",name:"Username",placeholder:"         Username"}),Object(j.jsx)("input",{required:!0,onChange:function(e){return l(e.target.value)},value:i,type:"password",id:"password",name:"Password",placeholder:"        Password"}),Object(j.jsx)("button",{children:"Sign In"}),Object(j.jsx)("div",{class:"login_wrong",children:h&&Object(j.jsx)("p",{children:" Wrong Username or Password"})})]})})};var Ie=function(){var e=Object(b.g)(),t=Object(n.useState)({}),a=Object(s.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(""),d=Object(s.a)(c,2),u=d[0],m=d[1],h=Object(n.useState)(""),g=Object(s.a)(h,2),v=g[0],x=g[1],p=Object(n.useState)({}),S=Object(s.a)(p,2),w=S[0],N=S[1],C=Object(n.useState)(""),y=Object(s.a)(C,2),I=y[0],k=y[1],F=Object(n.useState)(""),T=Object(s.a)(F,2),D=T[0],B=T[1],E=Object(n.useState)([]),R=Object(s.a)(E,2),z=R[0],A=R[1],M=Object(n.useState)(""),P=Object(s.a)(M,2),_=P[0],L=P[1],V=Object(n.useState)(""),q=Object(s.a)(V,2),G=q[0],W=q[1],U=Object(n.useState)(""),J=Object(s.a)(U,2),Y=(J[0],J[1],sessionStorage.getItem("token"));Y||(e.push("/"),window.location.reload("/")),Object(b.h)();var H=localStorage.getItem("BookingID"),K=localStorage.getItem("RoomID");console.log("b",H),console.log("r",K);var X=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/booking-infos/".concat(H),headers:{Authorization:"Bearer "+Y},method:"GET",data:{}}).then((function(e){window.location.hash||(window.location=window.location+"#loaded",window.location.reload()),console.log(e.data.data),N(e.data.data),A(e.data.data.student),k(e.data.data.status.split(" ")[0]),"Failed"==e.data.data.status.split(" ")[0]?B(e.data.data.status.slice(9,-1)):B("-")}));case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/room-infos/".concat(K),headers:{Authorization:"Bearer "+Y},method:"GET",data:{}}).then((function(e){if(console.log(e.data.data),o(e.data.data),m(e.data.data.startTime.slice(0,5)),x(e.data.data.endTime.slice(0,5)),e.data.data.minDuaration>=60){var t=60*((n=e.data.data.minDuaration/60)-(r=Math.floor(n))),a=Math.round(t);L(0==a?r+" hrs.":r+" hrs."+a+" min.")}else L(e.data.data.minDuaration+" min.");if(e.data.data.maxDuration>=60){var n,r;t=60*((n=e.data.data.maxDuration/60)-(r=Math.floor(n))),a=Math.round(t);W(0==a?r+" hrs.":r+" hrs."+a+" min.")}else W(e.data.data.maxDuration+" min.")}));case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){X()}),[]),Object(n.useEffect)((function(){Q()}),[]),Object(j.jsx)("div",{children:Object(j.jsxs)("body",{children:[Object(j.jsxs)("div",{class:"card",children:[Object(j.jsx)("img",{class:"card-img-top",src:f}),Object(j.jsxs)("div",{class:"card-img-overlay",children:[Object(j.jsx)("h4",{class:"headContent card-title",children:"MORE INFORMATION"}),Object(j.jsxs)("p",{class:"content card-text",children:["Invitation Code: ",w.invitationCode]})]})]}),Object(j.jsx)("div",{class:"myCard1 card",children:Object(j.jsxs)("div",{class:"card-body",children:[Object(j.jsx)("p",{class:"headForCard card-text boldB",children:r.roomName}),Object(j.jsx)("hr",{style:{height:"0.03rem",color:"#D7D5DB"}}),Object(j.jsx)("img",{src:r.roomPictureUrl}),Object(j.jsx)("p",{class:"customPForBuilding card-text regularB",children:"Building"}),Object(j.jsx)("p",{class:"customPForBuilding1 card-text regularB",children:"Floor"}),Object(j.jsx)("div",{className:"customForDisable0",children:Object(j.jsx)("textarea",{disabled:!0,value:r.building,onChange:o})}),Object(j.jsx)("div",{className:"customPosition customForDisable0",children:Object(j.jsx)("textarea",{disabled:!0,value:r.floor,onChange:o})}),Object(j.jsxs)("div",{className:"rowW",children:[Object(j.jsx)("p",{class:"customPForBuilding card-text regularB",children:"Room Capacity"}),Object(j.jsx)("p",{class:"customPForBuilding1 card-text regularB",children:"Require Member"}),Object(j.jsx)("div",{className:"customForDisable0",children:Object(j.jsx)("textarea",{disabled:!0,value:r.capacity,onChange:o})}),Object(j.jsx)("div",{className:"customPosition customForDisable0",children:Object(j.jsx)("textarea",{disabled:!0,value:r.minAttendees,onChange:o})})]}),Object(j.jsxs)("div",{className:"rowW",children:[Object(j.jsx)("p",{class:"customPForBuilding card-text regularB",children:"Min Duration"}),Object(j.jsx)("p",{class:"customPForBuilding1 card-text regularB",children:"Max Duration"}),Object(j.jsx)("div",{className:"customForDisable0",children:Object(j.jsx)("textarea",{disabled:!0,value:_,onChange:L})}),Object(j.jsx)("div",{className:"customPosition customForDisable0",children:Object(j.jsx)("textarea",{disabled:!0,value:G,onChange:W})})]}),Object(j.jsxs)("div",{className:"rowW",children:[Object(j.jsx)("p",{class:"customPForBuilding card-text regularB",children:"Start Time"}),Object(j.jsx)("p",{class:"customPForBuilding1 card-text regularB",children:"End Time"}),Object(j.jsx)("div",{className:"customForDisable0",children:Object(j.jsx)("textarea",{disabled:!0,value:u,onChange:m})}),Object(j.jsx)("div",{className:"customPosition customForDisable0",children:Object(j.jsx)("textarea",{disabled:!0,value:v,onChange:x})})]})]})}),Object(j.jsx)("div",{class:"myCard card",children:Object(j.jsxs)("div",{class:"card-body",children:[Object(j.jsx)("p",{class:"headForCard card-text boldB",children:w.meetingTitle}),Object(j.jsx)("hr",{style:{height:"0.03rem",color:"#D7D5DB"}}),Object(j.jsx)("p",{class:"customPForBuilding card-text regularB",children:"Date"}),Object(j.jsx)("p",{class:"customPForBuilding2 card-text regularB",children:"Time"}),Object(j.jsx)("div",{className:"customForDisable1",children:Object(j.jsx)("textarea",{disabled:!0,value:new Date(w.startDateTime).toLocaleDateString("en-GB"),onChange:o})}),Object(j.jsx)("div",{className:"customPosition1 customForDisable1",children:Object(j.jsx)("textarea",{disabled:!0,value:new Date(w.startDateTime).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1})+" - "+new Date(w.endDateTime).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1}),onChange:o})}),Object(j.jsxs)("div",{className:"rowW",children:[Object(j.jsx)("p",{class:"customPForBuilding card-text regularB",children:"Reserved At"}),Object(j.jsx)("p",{class:"customPForBuilding2 card-text regularB",children:"Reserved By"}),Object(j.jsx)("div",{className:"customForDisable1",children:Object(j.jsx)("textarea",{disabled:!0,value:new Date(w.reservedAt).toLocaleString("en-GB"),onChange:N})}),Object(j.jsx)("div",{className:"customPosition1 customForDisable1",children:Object(j.jsx)("textarea",{disabled:!0,value:w.reservedBy,onChange:N})})]}),Object(j.jsxs)("div",{className:"rowW",children:[Object(j.jsx)("p",{class:"customPForBuilding card-text regularB",children:"List of Require Members"}),Object(j.jsx)("div",{className:"customForDisable2",children:z.map((function(e){return Object(j.jsx)("p",{children:e.firstNameEn+" "+e.lastNameEn})}))})]}),Object(j.jsxs)("div",{className:"rowW",children:[Object(j.jsx)("p",{class:"customPForBuilding card-text regularB",children:"Purpose"}),Object(j.jsx)("p",{class:"customPForBuilding2 card-text regularB",children:"Status"}),Object(j.jsx)("div",{className:"customForDisable1",children:Object(j.jsx)("textarea",{disabled:!0,value:w.purpose,onChange:o})}),Object(j.jsx)("div",{className:"customPosition1 customForDisable1",children:Object(j.jsx)("textarea",{disabled:!0,value:I,onChange:k})})]}),Object(j.jsxs)("div",{className:"rowW",children:[Object(j.jsx)("p",{class:"customPForBuilding card-text regularB",children:"Reason"}),Object(j.jsx)("div",{className:"customForDisable3",children:Object(j.jsx)("textarea",{disabled:!0,value:D,onChange:B})})]})]})})]})})},ke={control:function(e,t){return Object(N.a)(Object(N.a)({},e),{},{fontFamily:"Bariol Regular",boxShadow:0,top:"0rem",cursor:"text",borderRadius:5,fontSize:"0.8rem",width:"14rem",borderColor:"#EAEAEA"})},option:function(e,t){var a=t.isFocused;return Object(N.a)(Object(N.a)({},e),{},{cursor:"pointer",color:a?"rgba(255, 80, 86)":"black",lineHeight:2})},input:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"black",fontFamily:"Bariol Regular"})},menu:function(e){return Object(N.a)(Object(N.a)({},e),{},{top:"1.9rem",boxShadow:"none",borderRadius:5,fontSize:"0.8rem",width:"14rem"})},menuList:function(e){return Object(N.a)(Object(N.a)({},e),{},{height:"6rem"})},singleValue:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"rgba(0, 0, 0)",fontSize:"0.8rem"})}};var Fe=function(e){var t=e.onChange,a=e.oldValue,r=sessionStorage.getItem("token"),o=Object(n.useState)(null),c=Object(s.a)(o,2),d=c[0],u=c[1],b=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/role",headers:{Authorization:"Bearer "+r},method:"GET",data:{}}).then((function(e){console.log(e.data.data),u(e.data.data)}));case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){b()}),[]);var m=[];if(null!==d)for(var h=0;h<d.length;h++)"2"!=d[h].roleId.toString()&&"6"!=d[h].roleId.toString()||m.push({value:d[h].roleId,label:d[h].roleName});var g="Not Specified";return null!==a&&(g=a),Object(j.jsx)(C.a,{options:m,placeholder:g,styles:ke,onChange:t})};var Te=function(e){var t=e.closeModal,a=e.memberId,r=Object(n.useState)(!1),o=Object(s.a)(r,2),c=(o[0],o[1]),d=Object(n.useState)(""),u=Object(s.a)(d,2),m=u[0],h=u[1],g=sessionStorage.getItem("token"),f=Object(n.useState)(""),v=Object(s.a)(f,2),x=v[0],p=v[1],S=Object(n.useState)(""),w=Object(s.a)(S,2),N=w[0],C=w[1],y=Object(n.useState)(""),I=Object(s.a)(y,2),k=I[0],F=I[1],T=Object(n.useState)(""),D=Object(s.a)(T,2),B=D[0],E=D[1],R=Object(n.useState)(""),z=Object(s.a)(R,2),A=z[0],M=z[1],P=Object(n.useState)(""),_=Object(s.a)(P,2),L=_[0],V=_[1],q=Object(n.useState)(""),G=Object(s.a)(q,2),W=G[0],U=G[1],J=Object(n.useState)(!1),Y=Object(s.a)(J,2),H=(Y[0],Y[1]),K=Object(n.useState)(!1),X=Object(s.a)(K,2),Q=X[0],Z=X[1],$=Object(n.useState)(!1),ee=Object(s.a)($,2),te=ee[0],ae=ee[1],ne=Object(b.g)(),re=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/admin-information/".concat(a),headers:{Authorization:"Bearer "+g},method:"GET",data:{}}).then((function(e){F(e.data.data[0].userName),p(e.data.data[0].firstName),C(e.data.data[0].lastName),E(e.data.data[0].password),h(e.data.data[0].profileUrl),U(e.data.data[0].role),V(e.data.data[0].roleId),console.log(e.data.data[0])}));case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],e.next=3,se(a);case 3:n=e.sent,h(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){t(n.result)},n.onerror=function(e){a(e)}}))},ce=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(x),console.log(N),console.log(k),console.log(B),console.log(m),console.log(L),console.log(x),H(""===x),console.log(N),H(""===N),console.log(k),H(""===k),console.log(B),H(""===B),console.log(A),H(""===A),console.log(m),H(""===m),B===A&&""!==B&&Z(!0),console.log(Q,!te),!Q&&te){e.next=31;break}return e.prev=21,e.next=24,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/modify-admin",headers:{Authorization:"Bearer "+g},method:"POST",data:{Id:a,FirstNameEn:x,LastNameEn:N,UserName:k,Password:B,MemberPictureUrl:m,RoleId:L}}).then((function(e){alert("The account has been modified"),ne.push("/adminManagement"),window.location.reload("/adminManagement")}));case 24:e.next=31;break;case 26:e.prev=26,e.t0=e.catch(21),console.log(e.t0.response),alert("Failed to midify account"),c(!0);case 31:case"end":return e.stop()}}),e,null,[[21,26]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){re()}),[]),Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"createAccount-modal",children:Object(j.jsxs)("div",{className:"createAccount-modalContainer",children:[Object(j.jsx)("div",{className:"title",children:"MODIFY ACCOUNT"}),Object(j.jsx)("div",{className:"body",children:Object(j.jsxs)("form",{className:"new-col-12",children:[Object(j.jsx)("label",{className:"col-6 firstForm",children:"First Name"}),Object(j.jsx)("label",{className:"col-6 secondForm",children:"Last Name"}),Object(j.jsx)("textarea",{className:"size",placeholder:x,onChange:function(e){return p(e.target.value)},required:!0}),Object(j.jsx)("textarea",{className:"size  secondP",placeholder:N,onChange:function(e){return C(e.target.value)},required:!0}),Object(j.jsxs)("div",{className:"rowWWWW",children:[Object(j.jsx)("label",{className:"col-6 firstForm",children:"User Name"}),Object(j.jsx)("label",{className:"col-6 secondForm",children:"Profile Image"}),Object(j.jsx)("textarea",{className:"size",placeholder:k,onChange:function(e){return F(e.target.value)},required:!0}),Object(j.jsx)("input",{type:"file",className:"col-6 size form-control thirdP",id:"customFile",onChange:function(e){oe(e)}})]}),Object(j.jsx)("label",{className:"col-6 firstForm",children:"Password"}),Object(j.jsx)("label",{className:"col-6 secondForm",children:"Confirm Password"}),Object(j.jsx)("input",{className:"size",type:"password",placeholder:"password",onChange:function(e){console.log(e.target.value),E(e.target.value),ae(!0)},required:!0}),Object(j.jsx)("input",{className:"size  secondP",type:"password",placeholder:"Confirm Password",onChange:function(e){return M(e.target.value)},required:!0}),Object(j.jsx)("label",{className:"col-6 firstForm",children:"Role"}),Object(j.jsx)(Fe,{onChange:function(e){V(e.value)},className:"size zero",oldValue:W})]})}),Object(j.jsxs)("div",{className:"footer",children:[Object(j.jsx)("button",{className:"btn btn-danger btn-sm",onClick:ce,type:"button",children:"Save"}),Object(j.jsx)("button",{className:"btn btn-primary btn-sm",type:"button",onClick:function(){return t(!1)},id:"cancelLogOut",children:"Cancel"})]})]})})})};var De=function(e){var t=e.closeModal,a=e.memberId,r=e.memberName,o=Object(b.g)(),s=sessionStorage.getItem("token");return Object(n.useEffect)((function(){}),[]),Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"logout-modal",children:Object(j.jsxs)("div",{className:"delete-modalContainer",children:[Object(j.jsx)("div",{className:"title",children:"DELETE ADMIN"}),Object(j.jsx)("div",{className:"body",children:r}),Object(j.jsxs)("div",{className:"footer",children:[Object(j.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(e){e.preventDefault(),O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/delete-admin/".concat(a),headers:{Authorization:"Bearer "+s},method:"GET"}).then((function(e){console.log("okay",e.data),alert("The account has been deleted"),o.push("/adminManagement"),window.location.reload("/adminManagement")})).catch((function(e){console.log(e.response),alert("Failed to delete account")}))},type:"button",children:"OK"}),Object(j.jsx)("button",{className:"btn btn-primary btn-sm",type:"button",onClick:function(){return t(!1)},id:"cancelLogOut",children:"Cancel"})]})]})})})},Be=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)([]),d=Object(s.a)(c,2),u=d[0],m=d[1],h=Object(n.useState)(null),f=Object(s.a)(h,2),v=f[0],x=f[1],p=Object(n.useState)(null),S=Object(s.a)(p,2),w=S[0],N=S[1],C=Object(n.useState)(!1),y=Object(s.a)(C,2),I=y[0],k=y[1],F=Object(n.useState)(!1),T=Object(s.a)(F,2),D=T[0],B=T[1],E=sessionStorage.getItem("token"),R=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,n,r,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.sessionStorage.getItem("status"),a=window.sessionStorage.getItem("date"),"Not Specified"==t&&(t=null),"null"===a&&(a=null),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r="",s=1,null!==a&&(n.map((function(e){e===a.toString().slice(4,7)&&(r=s<10?"0"+s.toString():s.toString()),s+=1})),c=r+"/"+a.toString().slice(8,10)+"/"+a.toString().slice(11,15),a=c.toString()),null!==t&&(t=t.toString()),e.next=12,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/admin",headers:{Authorization:"Bearer "+E},method:"GET"}).then((function(e){var t=e.data.data;console.log(t),o(t)}));case 12:e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){R()}),[]),Object(n.useEffect)((function(){var e=JSON.parse(JSON.stringify(r));console.log(r);var t=[];e.map((function(e,a){var n=e.id,r=e.firstName+" "+e.lastName;e.modify=Object(j.jsx)("div",{children:Object(j.jsx)("i",{class:"card_room_management_room_writeimg bx bx-edit",style:{marginLeft:"12px",cursor:"pointer",color:"black",fontSize:"1rem"},onClick:function(){return function(e){k(!0),x(e)}(n)}})}),e.delete=Object(j.jsx)("div",{children:Object(j.jsx)("i",{class:"card_room_management_room_delete bx bx-trash",style:{marginLeft:"12px",cursor:"pointer",color:"black",fontSize:"1rem"},onClick:function(){return function(e,t){B(!0),x(e),N(t)}(n,r)}})}),t.push(e)})),m(t)}),[r]);var z={columns:[{label:"USERNAME",field:"userName",sort:"asc",width:50},{label:"FIRST NAME",field:"firstName",sort:"acs",width:50},{label:"LAST NAME",field:"lastName",sort:"asc",width:50},{label:"ROLE",field:"role",sort:"asc",width:50},{label:"AREA",field:"area",sort:"asc",width:80},{label:"MODIFY",field:"modify",sort:"asc",width:80},{label:"DELETE",field:"delete",sort:"asc",width:80}],rows:u};if(!sessionStorage.getItem("token"))return Object(j.jsx)(b.a,{to:"/"});return Object(j.jsxs)("div",{className:"adminTable",children:[Object(j.jsx)(g.c,{striped:!0,bordered:!0,small:!0,searching:!1,sortable:!1,displayEntries:!1,data:z}),Object(j.jsxs)("div",{children:[I&&Object(j.jsx)(Te,{memberId:v,closeModal:k}),D&&Object(j.jsx)(De,{memberId:v,closeModal:B,memberName:w})]})]})};var Ee=function(e){var t=e.closeModal,a=(e.roomId,Object(n.useState)("")),r=Object(s.a)(a,2),o=r[0],c=r[1],d=sessionStorage.getItem("token"),u=Object(n.useState)(""),m=Object(s.a)(u,2),h=m[0],g=m[1],f=Object(n.useState)(""),v=Object(s.a)(f,2),x=v[0],p=v[1],S=Object(n.useState)(""),w=Object(s.a)(S,2),N=w[0],C=w[1],y=Object(n.useState)(""),I=Object(s.a)(y,2),k=I[0],F=I[1],T=Object(n.useState)(""),D=Object(s.a)(T,2),B=D[0],E=D[1],R=Object(n.useState)(""),z=Object(s.a)(R,2),A=z[0],M=z[1],P=Object(n.useState)(!0),_=Object(s.a)(P,2),L=_[0],V=_[1],q=Object(n.useState)(!1),G=Object(s.a)(q,2),W=G[0],U=G[1],J=Object(n.useState)(!1),Y=Object(s.a)(J,2),H=Y[0],K=Y[1],X=Object(b.g)(),Q=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],e.next=3,Z(a);case 3:n=e.sent,c(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){t(n.result)},n.onerror=function(e){a(e)}}))},$=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!0,n=!1,console.log(h),""===h?(V(!0),a=!0):(V(!1),a=!1),console.log(x),""===x?(V(!0),a=!0):(V(!1),a=!1),console.log(N),""===N?(V(!0),a=!0):(V(!1),a=!1),console.log(k),""===k?(V(!0),a=!0):(V(!1),a=!1),console.log(B),""===B?(V(!0),a=!0):(V(!1),a=!1),console.log(o),""===o?(V(!0),a=!0):(V(!1),a=!1),k===B&&""!==k?(U(!0),n=!0):(U(!1),n=!1),K(!0),!n||a){e.next=26;break}return e.prev=17,e.next=20,O()({url:"https://arr-dev.azurewebsites.net/api/v1/webs/new-admin",headers:{Authorization:"Bearer "+d},method:"POST",data:{FirstNameEn:h,LastNameEn:x,UserName:N,Password:k,MemberPictureUrl:o,RoleId:A.value}}).then((function(e){alert("Your account has been created"),X.push("/adminManagement"),window.location.reload("/adminManagement")}));case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(17),console.log(e.t0.response.data.message),alert(e.t0.response.data.message);case 26:case"end":return e.stop()}}),e,null,[[17,22]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"createAccount-modal",children:Object(j.jsxs)("div",{className:"createAccount-modalContainer",children:[Object(j.jsx)("div",{className:"title",children:"CREATE ACCOUNT"}),Object(j.jsx)("div",{className:"body",children:Object(j.jsxs)("form",{className:"new-col-12",children:[Object(j.jsx)("label",{className:"col-6 firstForm",children:"First Name"}),Object(j.jsx)("label",{className:"col-6 secondForm",children:"Last Name"}),Object(j.jsx)("textarea",{className:"size",placeholder:"First Name",onChange:function(e){return g(e.target.value)}}),Object(j.jsx)("textarea",{className:"size  secondP",placeholder:"Last Name",onChange:function(e){return p(e.target.value)}}),Object(j.jsxs)("div",{className:"rowWWWW",children:[Object(j.jsx)("label",{className:"col-6 firstForm",children:"Username"}),Object(j.jsx)("label",{className:"col-6 secondForm",children:"Profile Image"}),Object(j.jsx)("textarea",{className:"size",placeholder:"User Name",onChange:function(e){return C(e.target.value)}}),Object(j.jsx)("input",{type:"file",className:"col-6 size form-control thirdP",id:"customFile",onChange:function(e){Q(e)}})]}),Object(j.jsx)("label",{className:"col-6 firstForm",children:"Password"}),Object(j.jsx)("label",{className:"col-6 secondForm",children:"Confirm Password"}),Object(j.jsx)("input",{className:"size",type:"password",placeholder:"Password",onChange:function(e){return F(e.target.value)}}),Object(j.jsx)("input",{className:"size  secondP",type:"password",placeholder:"Confirm Password",onChange:function(e){return E(e.target.value)}}),Object(j.jsx)("label",{className:"col-6 firstForm",children:"Role"}),Object(j.jsx)(Fe,{onChange:function(e){M(e)},className:"size zero",oldValue:null})]})}),Object(j.jsxs)("div",{className:"footer",children:[Object(j.jsx)("button",{className:"btn btn-danger btn-sm",onClick:$,type:"button",children:"Save"}),Object(j.jsx)("button",{className:"btn btn-primary btn-sm",type:"button",onClick:function(){return t(!1)},id:"cancelLogOut",children:"Cancel"})]}),H&&L&&Object(j.jsx)("p",{children:"Please fill everything"}),H&&!W&&Object(j.jsx)("p",{children:"Password is not match with confirm password."})]})})})},Re=function(){sessionStorage.getItem("token");var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(j.jsxs)("div",{class:"room_management",children:[Object(j.jsx)("button",{className:"create_room_button",onClick:function(){r(!0)},children:Object(j.jsx)("span",{class:"links_name",children:"Create Account"})}),Object(j.jsx)(Be,{}),a&&Object(j.jsx)(Ee,{closeModal:r})]})};var ze=function(){var e=Object(b.g)();return sessionStorage.getItem("token")||(e.push("/"),window.location.reload("/")),Object(j.jsxs)("body",{children:[Object(j.jsxs)("div",{class:"card",children:[Object(j.jsx)("img",{class:"card-img-top",src:f}),Object(j.jsxs)("div",{class:"card-img-overlay",children:[Object(j.jsx)("h4",{class:"headContent card-title",children:"ADMIN MANAGEMENT"}),Object(j.jsx)("p",{class:"content card-text",children:"Suvarnabhumi Campus"})]})]}),Object(j.jsx)(Re,{})]})};var Ae=function(){var e=Object(n.useState)("false"),t=Object(s.a)(e,2),a=(t[0],t[1]);return sessionStorage.removeItem("startTime"),sessionStorage.removeItem("endTime"),sessionStorage.removeItem("maxDuration"),sessionStorage.removeItem("minDuration"),sessionStorage.removeItem("building"),sessionStorage.removeItem("floor"),Object(j.jsx)(u.a,{children:Object(j.jsxs)(b.d,{children:[Object(j.jsxs)(b.b,{path:"/history",exact:!0,component:D,children:[Object(j.jsx)(D,{onCollapse:function(e){a(!e)}}),Object(j.jsx)(S,{})]}),Object(j.jsxs)(b.b,{path:"/roomManagement",children:[Object(j.jsx)(ie,{onCollapse:function(e){a(!e)}}),Object(j.jsx)(S,{})]}),Object(j.jsxs)(b.b,{path:"/reservationManagement",children:[Object(j.jsx)(Ne,{onCollapse:function(e){a(!e)}}),Object(j.jsx)(S,{})]}),Object(j.jsx)(b.b,{path:"/changePassword",children:Object(j.jsx)(Ce,{})}),Object(j.jsxs)(b.b,{path:"/moreInfo",children:[Object(j.jsx)(v,{}),Object(j.jsx)(S,{})]}),Object(j.jsxs)(b.b,{path:"/moreInfoForReservationList",children:[Object(j.jsx)(Ie,{}),Object(j.jsx)(S,{})]}),Object(j.jsxs)(b.b,{path:"/adminManagement",children:[Object(j.jsx)(ze,{}),Object(j.jsx)(S,{})]}),Object(j.jsx)(b.b,{path:"/",children:Object(j.jsx)("div",{children:Object(j.jsx)(ye,{})})})]})})},Me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,254)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),o(e),s(e)}))};a.p,a.p,a.p,a.p,a.p,a.p,a(227),a(228),a(229);o.a.render(Object(j.jsx)(u.a,{children:Object(j.jsx)(Ae,{})}),document.getElementById("root")),Me()},30:function(e,t,a){}},[[230,1,2]]]);
//# sourceMappingURL=main.fabe404a.chunk.js.map